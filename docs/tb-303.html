<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 13 TB-303 | Computational Thinking through Modular Sound Synthesis</title>
<meta name="author" content="Andrew M. Olney">
<meta name="description" content="This chapter examines a new sound design problem using the problem solving approach introduced in Chapter 8. The problem is to make a lead by recreating the fundamental characteristics of the...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="Chapter 13 TB-303 | Computational Thinking through Modular Sound Synthesis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://olney.ai/ct-modular-book/index.html/tb-303.html">
<meta property="og:description" content="This chapter examines a new sound design problem using the problem solving approach introduced in Chapter 8. The problem is to make a lead by recreating the fundamental characteristics of the...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 13 TB-303 | Computational Thinking through Modular Sound Synthesis">
<meta name="twitter:description" content="This chapter examines a new sound design problem using the problem solving approach introduced in Chapter 8. The problem is to make a lead by recreating the fundamental characteristics of the...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="include/webex.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Computational Thinking through Modular Sound Synthesis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">Sound</li>
<li><a class="" href="physics-and-perception-of-sound.html"><span class="header-section-number">2</span> Physics and Perception of Sound</a></li>
<li><a class="" href="harmonic-and-inharmonic-sounds.html"><span class="header-section-number">3</span> Harmonic and Inharmonic Sounds</a></li>
<li class="book-part">Fundamental Techniques</li>
<li><a class="" href="basic-modeling-concepts.html"><span class="header-section-number">4</span> Basic Modeling Concepts</a></li>
<li><a class="" href="controllers.html"><span class="header-section-number">5</span> Controllers</a></li>
<li><a class="" href="generators.html"><span class="header-section-number">6</span> Generators</a></li>
<li><a class="" href="modifiers.html"><span class="header-section-number">7</span> Modifiers</a></li>
<li class="book-part">Sound Design 1</li>
<li><a class="" href="designing-a-kick-drum.html"><span class="header-section-number">8</span> Designing a Kick Drum</a></li>
<li><a class="" href="eighties-lead-chiptune.html"><span class="header-section-number">9</span> Eighties Lead &amp; Chiptune</a></li>
<li class="book-part">Advanced Techniques</li>
<li><a class="" href="complex-controllers.html"><span class="header-section-number">10</span> Modulating Controllers</a></li>
<li><a class="" href="complex-generators.html"><span class="header-section-number">11</span> Modulating Generators</a></li>
<li><a class="" href="complex-modifiers.html"><span class="header-section-number">12</span> Modulating Modifiers</a></li>
<li class="book-part">Sound Design 2</li>
<li><a class="active" href="tb-303.html"><span class="header-section-number">13</span> TB-303</a></li>
<li><a class="" href="krell.html"><span class="header-section-number">14</span> Krell</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/aolney/ct-modular-book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="tb-303" class="section level1" number="13">
<h1>
<span class="header-section-number">13</span> TB-303<a class="anchor" aria-label="anchor" href="#tb-303"><i class="fas fa-link"></i></a>
</h1>
<p>This chapter examines a new sound design problem using the problem solving approach introduced in Chapter <a href="designing-a-kick-drum.html#designing-a-kick-drum">8</a>.
The problem is to make a lead by recreating the fundamental characteristics of the Roland TB-303, an iconic instrument in acid house and subsequent genres of electronic music.
Thus the problem is not only about recreating a particular sound but also involves emulating the key features of the instrument in order to produce the sound.</p>
<div id="history" class="section level2" number="13.1">
<h2>
<span class="header-section-number">13.1</span> History<a class="anchor" aria-label="anchor" href="#history"><i class="fas fa-link"></i></a>
</h2>
<p>The <a href="https://en.wikipedia.org/wiki/Roland_TB-303">TB-303</a> (hereafter 303; see Figure <a href="tb-303.html#fig:303">13.1</a>), was released in 1981 and withdrawn in 1984 as a commercial failure.
The original purpose of the 303 was to replace a bass guitar in much the same way a drum machine like the <a href="https://en.wikipedia.org/wiki/Roland_TR-808">TR-808</a> was meant to replace drums.
The 303 was widely considered as difficult to use, which together with a $1300 price tag<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;In 2022 dollars.&lt;/p&gt;"><sup>96</sup></a>, likely led to its demise.</p>

<div class="figure">
<span style="display:block;" id="fig:303"></span>
<img src="images/Roland_TB-303_Panel-wp-cc0.jpg" alt="A Roland TB-303. Image public domain." width="100%"><p class="caption">
Figure 13.1: A Roland TB-303. Image <a href="https://commons.wikimedia.org/wiki/File:Roland_TB-303_Panel.jpg">public domain</a>.
</p>
</div>
<p>The 303's failure in the marketplace, however, meant that it was cheaply available in the secondhand market.
Dance music artists, most notably in Chicago, began incorporating the 303 into their performances, and the 303 became a signature sound of <a href="https://en.wikipedia.org/wiki/Acid_house">acid house</a>.
While the 303 was designed for bass guitar sounds, which are a common element of <a href="https://en.wikipedia.org/wiki/Disco">disco</a> dance music, the 303 could also easily (and perhaps more easily) produce sounds that are nothing like a bass guitar or any other instrument from that time.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Squelch, chirp, and scream are common descriptors of the 303 sound.&lt;/p&gt;"><sup>97</sup></a></p>
<p>The way the 303 was used in acid house may be due to its extremely limited sequencer.
The 303 sequencer stored pitch and time information separately, and each of these were entered using separate modes.
As a result, it was not possible to edit the complete sequence in real time, i.e. during performance.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;It is possible to &lt;a href="https://tinyloops.com/tb303/quick_results.html#02"&gt;live-play&lt;/a&gt; the 303 and &lt;a href="https://tinyloops.com/tb303/quick_results.html#07"&gt;switch between tracks&lt;/a&gt;, but this is not the same as editing a running sequence.&lt;/p&gt;'><sup>98</sup></a>
However, it was very easy to change the timbre of an existing sequence using various parameter knobs (mostly across the top in Figure <a href="tb-303.html#fig:303">13.1</a>).
The combined difficulty of sequencing and the ease of using parameter knobs to sculpt timbres led early acid house pioneers to focus on the later.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://www.dwrl.utexas.edu/2016/11/22/rhetorical-synthesis-the-story-of-the-roland-tb-303/" class="uri"&gt;https://www.dwrl.utexas.edu/2016/11/22/rhetorical-synthesis-the-story-of-the-roland-tb-303/&lt;/a&gt;&lt;/p&gt;'><sup>99</sup></a>
Thus repeating sequences with shifting timbres became a defining feature of acid house, as shown by the early example in Figure <a href="tb-303.html#fig:acid-tracks">13.2</a>.</p>

<div class="figure">
<span style="display:block;" id="fig:acid-tracks"></span>
<iframe src="https://olney.ai/ct-modular-book/images/acid-tracks.html" width="100%" height="60px" data-external="1">
</iframe>
<p class="caption">
Figure 13.2: <a href="https://en.wikipedia.org/wiki/Acid_Tracks"><em>Acid Tracks</em></a> by <a href="https://en.wikipedia.org/wiki/Phuture">Phuture</a>. <em>Acid Tracks</em> helped define the sound of acid house.
</p>
</div>
</div>
<div id="problem-solving-approach" class="section level2" number="13.2">
<h2>
<span class="header-section-number">13.2</span> Problem solving approach<a class="anchor" aria-label="anchor" href="#problem-solving-approach"><i class="fas fa-link"></i></a>
</h2>
<p>The problem solving stages elaborated for sound design in Chapter <a href="designing-a-kick-drum.html#designing-a-kick-drum">8</a> mostly apply to emulating a 303 but with some slight variation given the goal of creating a specific sound by emulating the key features of a 303.
Recall the problem solving stages are:</p>
<ul>
<li>Understand the problem</li>
<li>Make a plan</li>
<li>Implement the plan</li>
<li>Evaluate the solution</li>
</ul>
<p>For the understanding the problem stage, we need to know the defining characteristics of the 303 and what makes it special.
According to Robin Whittle, developer of the Devil Fish 303 mod, the most important aspects of the 303 sound are its sequencer, filter, filter envelope, and the oscillator to a minor extent.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Most information is on Robin's &lt;a href=&quot;https://www.firstpr.com.au/rwi/dfish/index.html&quot;&gt;main website&lt;/a&gt; including the Devil Fish manual. Additional information is on the &lt;a href=&quot;http://www.retrosynth.com/ah/&quot;&gt;Analogue Heaven mailing list&lt;/a&gt;.&lt;/p&gt;"><sup>100</sup></a></p>
<p>For the making a plan stage, Whittle's observations suggest a plan based around decomposition, namely that the 303 can be considered as a collection of modules.
Any 303 function that is generic can be satisfied with generic modules, while the functions contributing to the 303's distinctive sound can be addressed independently as subproblems.
Figure <a href="tb-303.html#fig:tb303-annotated">13.3</a> shows how the 303 interface is loosely organized around modular concepts like oscillators, filters, and envelopes, further supporting an overall decomposition strategy for emulating a 303 in modular.</p>

<div class="figure">
<span style="display:block;" id="fig:tb303-annotated"></span>
<img src="images/tb303-annotated.jpg" alt="A Roland TB-303 annotated to group interface elements according to modular concepts. Note the accent knob affects both filter and volume envelopes." width="100%"><p class="caption">
Figure 13.3: A Roland TB-303 annotated to group interface elements according to modular concepts. Note the accent knob affects both filter and volume envelopes.
</p>
</div>
<p>For the implementing a plan stage, we need evaluation criteria in order to assess alternate solutions and gauge our progress.
A simple and straightforward evaluation criterion is to use a well-known song with a 303 line.
Ideally, the 303 line should be easy to sequence and easy to listen to repeatedly throughout our design process.
<em>Da Funk</em> by Daft Punk seems suitable for this purpose (<a href="https://youtu.be/PwILkY9gRrc?t=145">listen here</a>).
Another source of evaluation material has been provided by Din Sync, whose <a href="http://www.dinsync.info/2010/02/tb-303-reference-recordings-for-x0xb0x.html">reference recordings of a 303</a> systematically map the sound of a C note across 303 knob positions.
The Din Sync materials are useful for isolating parameters of the 303 as an instrument, which is very difficult to do from a live performance.
A 1-10 scale for both criteria seem appropriate at first glance.
Using these materials, we can address the subproblems of sequencing, oscillators, filter, and envelopes independently using the same four problem solving stages.</p>
<p>The evaluation stage, which we will cycle through iteratively, will use the <em>Da Funk</em> evaluation to determine overall success.
If we were trying to recreate the 303 in a broad sense, then additional evaluation materials would be necessary, but for the purposes of this chapter, this should be sufficient.</p>
</div>
<div id="sequencing" class="section level2" number="13.3">
<h2>
<span class="header-section-number">13.3</span> Sequencing<a class="anchor" aria-label="anchor" href="#sequencing"><i class="fas fa-link"></i></a>
</h2>
<p>Let's begin with understanding the sequencing problem.
The 303 has a maximum pattern length of 16 steps.
Because reducing the pattern length is somewhat tedious, many 303 patterns are 16 steps.
By default, the steps are staccato 16th notes in 4/4 time.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;The 303 also has a triplet mode, but that is not generally considered a signature component of the sound.&lt;/p&gt;"><sup>101</sup></a>
As previously stated, the 303 sequencer has a timing mode and a pitch mode.
In timing mode, each step is identified as beginning a new note, beginning a rest, or continuing the previous step (which may be a note or a rest).
In pitch mode, each note is identified, whether it is transposed up/down an octave, whether is has an accent, and whether it has a slide.
For now, think of the accent as producing a slightly louder note, and a slide as a glide in pitch from one note to the next.
According to Whittle, the accent and slide are the two components of the sequencer that are the most important to the overall sound of a 303.</p>
<p>Figure <a href="tb-303.html#fig:tb303-slide">13.4</a><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Adapted from &lt;a href="https://www.firstpr.com.au/rwi/dfish/303-slide.html" class="uri"&gt;https://www.firstpr.com.au/rwi/dfish/303-slide.html&lt;/a&gt;.&lt;/p&gt;'><sup>102</sup></a> shows an example 303 clock and gate pattern modified by a slide.
Each step in the example has a different note and is represented by a clock color.
Gates for a single 16th note extend less than a full step's worth of clock pulses, specifically three pulses and the positive portion of the fourth pulse.
Short gates relative to steps give the 303 its staccato note feel.
Extended gates, in contrast to regular gates, extend through the step on which they are placed and into the next step.
In the example's second row, a slide has been placed on the red note, causing its gate to extend through the blue note's gate.
Regular gates and extended gates control the envelopes for the filter and volume.
In addition to these gates, slide gates control the portamento from one note to the next.
In the example's third row, the red note begins its slide into the blue note when the blue note starts, and the slide circuit stays on until the purple note.
Accents (not shown) are in time with the gates and further affect the filter and volume envelopes.</p>

<div class="figure">
<span style="display:block;" id="fig:tb303-slide"></span>
<img src="images/303-slide.PNG" alt="Clock, gate, and slide behavior of a 303 for four notes across four steps, indicated by different colors on the clock pulses. Note the gates are shorter than a step, gates can be extended across steps, and slide gates extend across an entire step." width="80%"><p class="caption">
Figure 13.4: Clock, gate, and slide behavior of a 303 for four notes across four steps, indicated by different colors on the clock pulses. Note the gates are shorter than a step, gates can be extended across steps, and slide gates extend across an entire step.
</p>
</div>
<p>Based on the above description, any solution to the 303 sequencer problem will need to somehow represent the following:</p>
<ul>
<li>Notes and rests</li>
<li>Gates spanning steps in response to slides and extended steps</li>
<li>Gates to control slide</li>
<li>Presence of accents</li>
</ul>
<p>To make a plan, let's consider some of our previous sequencing approaches from Chapter <a href="complex-controllers.html#complex-controllers">10</a>.
First, clocks alone are clearly insufficient because sometimes we need rests.
We could accomplish rests using clock divisions and logic, but the variable length of notes and rests in the 303 would seem to make that approach very complicated, even if it is possible.
The two remaining obvious choices are modifying gates and using an LFO as a speed variable clock.
In the modifying gates approach, we could trigger gates on steps with notes and arbitrarily extend gate lengths for continued notes/slides and rests.
In the LFO clock approach, an LFO would be synced by a clock, and we'd increase/decrease the speed of the clock to change gate duration.
Comparing these two approaches with the sequencing needs of the 303, it seems that the speed variable clock has capabilities that aren't needed here, like adding multiple beats, e.g. subdividing 1/16th notes.
For the goal of emulating 303 sequencing, the modifying gates approach seems like it will accomplish the goals of variable length gates and rests with a minimum of complexity.</p>
<p>Returning to the list of sequencing elements we need to represent, most of the elements have an on/off flavor except for pitches: note/rest, accents, slides, and extended gates are either present or not.
This presence/absence flavor suggests that these elements are best represented using trigger sequencers that represent presence/absence of something at each step.
Because the 303 forces 16th notes in 16 steps as the minimal resolution, we are not sacrificing flexibility by using triggger sequencers in this case.
Altogether, this suggests one control voltage sequencer for pitch and four trigger sequencers for note/rest, accents, slides, and extended gate.
The pitch sequencing in this approach is handling three functions on the 303: defining a note, up transpositions, and down transpositions.
Try patching up <em>Da Funk</em> using a 16 step control voltage sequencer with some other placeholder modules to generate sound using the button in Figure <a href="tb-303.html#fig:tb303-seq">13.5</a>.
The notation for the sequence is provided in the patch instructions.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seqIframe('https://cardinal.olney.ai?patchurl=empty.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seqLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seqLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add BPM Clock, ADDR-SEQ, ASX immediately to the right of ADDR-SEQ, four TRG, JW Quantizer, Four-View, VCO, SuperDrive, and Host Audio&lt;/li&gt;
&lt;li&gt;Connect the Clock reset out to each of the sequencers. In general, you will need to hit reset on every patch that loads because they will not load in sync by default&lt;/li&gt;
&lt;li&gt;Connect Clock 16ths out to each of the sequencers&lt;/li&gt;
&lt;li&gt;Connect ADDR-SEQ out to the V/Oct in of the Quantizer&lt;/li&gt;
&lt;li&gt;Connect the Quantizer out to the first input of the Four-View and the VCO V/Oct in. The Four-View will show the note corresponding to the voltage received from the Quantizer&lt;/li&gt;
&lt;li&gt;Connect the VCO saw to the SuperDrive in. The SuperDrive is a distortion module that technically isn't part of the 303, but was a common effect applied to 303 sounds (including in Da Funk). The bypass button allows the dry sound to pass through, which is convenient in testing&lt;/li&gt;
&lt;li&gt;Connect the SuperDrive out to the Host Audio L &lt;/li&gt;
&lt;li&gt;Program the sequencers as specified below&lt;ul&gt;
&lt;li&gt;Set the Quantizer to G Locrian with Octave shift -2. &lt;/li&gt;
&lt;li&gt;Dial in each note of ADDR-SEQ, noting that ASX adds notes 9-16. The first note should be G2. The down notes are X1 and the up notes are X3&lt;/li&gt;
&lt;li&gt;Enter the steps for each trigger sequencer. The order of sequencers is PRASE: pitch, rest, accent, slide, extend. Each TRG should have 16 steps. All steps for the rest TRG should be active (rests are empty). For Da Funk, all steps for extend should be empty&lt;/li&gt;
&lt;li&gt;Listen to the song periodically as you enter steps. This should help you catch mistakes&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class='d-flex flex-row justify-content-around'&gt;
&lt;img class='instruction-wide-image' src='images/303-da-funk-pattern.png'&gt;
&lt;/div&gt;
&lt;div class='d-flex flex-row justify-content-around'&gt;
&lt;img class='rack-image' src='images/solo-modules/asx-solo.png'&gt;
&lt;img class='rack-image' src='images/solo-modules/fourview-solo.png'&gt;
&lt;img class='rack-image' src='images/solo-modules/superdrive-solo.png'&gt;
&lt;/div&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/tb303-seq.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add BPM Clock, ADDR-SEQ, ASX immediately to the right of ADDR-SEQ, four TRG, JW Quantizer, Four-View, VCO, SuperDrive, and Host Audio&lt;/li&gt;
&lt;li&gt;Connect the Clock reset out to each of the sequencers. In general, you will need to hit reset on every patch that loads because they will not load in sync by default&lt;/li&gt;
&lt;li&gt;Connect Clock 16ths out to each of the sequencers&lt;/li&gt;
&lt;li&gt;Connect ADDR-SEQ out to the V/Oct in of the Quantizer&lt;/li&gt;
&lt;li&gt;Connect the Quantizer out to the first input of the Four-View and the VCO V/Oct in. The Four-View will show the note corresponding to the voltage received from the Quantizer&lt;/li&gt;
&lt;li&gt;Connect the VCO saw to the SuperDrive in. The SuperDrive is a distortion module that technically isn't part of the 303, but was a common effect applied to 303 sounds (including in Da Funk). The bypass button allows the dry sound to pass through, which is convenient in testing&lt;/li&gt;
&lt;li&gt;Connect the SuperDrive out to the Host Audio L &lt;/li&gt;
&lt;li&gt;Program the sequencers as specified below&lt;ul&gt;
&lt;li&gt;Set the Quantizer to G Locrian with Octave shift -2. &lt;/li&gt;
&lt;li&gt;Dial in each note of ADDR-SEQ, noting that ASX adds notes 9-16. The first note should be G2. The down notes are X1 and the up notes are X3&lt;/li&gt;
&lt;li&gt;Enter the steps for each trigger sequencer. The order of sequencers is PRASE: pitch, rest, accent, slide, extend. Each TRG should have 16 steps. All steps for the rest TRG should be active (rests are empty). For Da Funk, all steps for extend should be empty&lt;/li&gt;
&lt;li&gt;Listen to the song periodically as you enter steps. This should help you catch mistakes&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class='d-flex flex-row justify-content-around'&gt;
&lt;img class='instruction-wide-image' src='images/303-da-funk-pattern.png'&gt;
&lt;/div&gt;
&lt;div class='d-flex flex-row justify-content-around'&gt;
&lt;img class='rack-image' src='images/solo-modules/asx-solo.png'&gt;
&lt;img class='rack-image' src='images/solo-modules/fourview-solo.png'&gt;
&lt;img class='rack-image' src='images/solo-modules/superdrive-solo.png'&gt;
&lt;/div&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/tb303-seq.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seqIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seqIframe(url){
  var tb303_seqIframe = document.getElementById("tb303_seq-iframe");
  tb303_seqIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq"></span>
<p class="caption">
Figure 13.5: <a href="https://cardinal.olney.ai">Virtual modular</a> for a 303-style sequencer.
</p>
</div>
<p>At this point, the song should be somewhat recognizable but also recognizably not right.
The 16th note gates generated by the clock are the right length for the 303's regular gates, but 9/16 of the steps have slides, and these should be implemented as extended gates and not short gates.
Extended gates should happen either when a step has been marked as a slide gate or when it has been marked as an extended gate.
Additionally, the extended gate should only occur when the step has a note.
The flavor of these conditions suggest logic should be used to decide when an extended gate should fire.
Try extending the last patch by adding logic to trigger extended gates and then tune those gates to the correct length using the button in Figure <a href="tb-303.html#fig:tb303-seq-extendgate">13.6</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seq_extendgateIframe('https://cardinal.olney.ai?patchurl=tb303-seq.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq_extendgate">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq_extendgate" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seq_extendgateLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seq_extendgateLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;On the row below, add dualOR, dualAND, DGATE, filtah, and Scope&lt;/li&gt;
&lt;li&gt;Connect the TRG slide out and extended out to dualOR inputs 1 and 2. The dualOR will be high when either of these gates is active&lt;/li&gt;
&lt;li&gt;Connect the dualOR out to dualAND input 1 and TRG rest out to dualAND input 2. The dualAND will be high when it receives a gate from either slide or extend and simultaneously receives a gate from the active step&lt;/li&gt;
&lt;li&gt;Connect dualAND out to DGATE trigger in and DGATE gate out to Scope in 1&lt;/li&gt;
&lt;li&gt;Connect TRG rest out to Scope in 2&lt;/li&gt;
&lt;li&gt;Listen to the song and make the following adjustments on the Scope&lt;ul&gt;
&lt;li&gt;The default gate length is 1s. Reduce it until the length spans the high/low of a gate and the high of the next gate. Note this is tempo-driven, so a change in tempo will require recallibration&lt;/li&gt;
&lt;li&gt;Note that the extended gate sometimes has a downward line in the middle. This is because multiple gates are overlapping, which we expect because the TRG slide sometimes has multiple steps in a row. To fix this, we need to run the extended gate through a LPF to slow the control voltage enough to remove these downward transitions, which otherwise would trigger an envelope&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Connect filtah in between DGATE and the Scope and turn the cutoff down until the downward transitions disappear&lt;/li&gt;
&lt;li&gt;Add ADSR and VCA to the right of the VCO&lt;/li&gt;
&lt;li&gt;Connect the VCO saw out to the VCA in&lt;/li&gt;
&lt;li&gt;Connect the ADSR out to the VCA CV in&lt;/li&gt;
&lt;li&gt;Connect the VCA out to the SuperDrive in&lt;/li&gt;
&lt;li&gt;Connect filtah out to ADSR gate in and listen to the song&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;On the row below, add dualOR, dualAND, DGATE, filtah, and Scope&lt;/li&gt;
&lt;li&gt;Connect the TRG slide out and extended out to dualOR inputs 1 and 2. The dualOR will be high when either of these gates is active&lt;/li&gt;
&lt;li&gt;Connect the dualOR out to dualAND input 1 and TRG rest out to dualAND input 2. The dualAND will be high when it receives a gate from either slide or extend and simultaneously receives a gate from the active step&lt;/li&gt;
&lt;li&gt;Connect dualAND out to DGATE trigger in and DGATE gate out to Scope in 1&lt;/li&gt;
&lt;li&gt;Connect TRG rest out to Scope in 2&lt;/li&gt;
&lt;li&gt;Listen to the song and make the following adjustments on the Scope&lt;ul&gt;
&lt;li&gt;The default gate length is 1s. Reduce it until the length spans the high/low of a gate and the high of the next gate. Note this is tempo-driven, so a change in tempo will require recallibration&lt;/li&gt;
&lt;li&gt;Note that the extended gate sometimes has a downward line in the middle. This is because multiple gates are overlapping, which we expect because the TRG slide sometimes has multiple steps in a row. To fix this, we need to run the extended gate through a LPF to slow the control voltage enough to remove these downward transitions, which otherwise would trigger an envelope&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Connect filtah in between DGATE and the Scope and turn the cutoff down until the downward transitions disappear&lt;/li&gt;
&lt;li&gt;Add ADSR and VCA to the right of the VCO&lt;/li&gt;
&lt;li&gt;Connect the VCO saw out to the VCA in&lt;/li&gt;
&lt;li&gt;Connect the ADSR out to the VCA CV in&lt;/li&gt;
&lt;li&gt;Connect the VCA out to the SuperDrive in&lt;/li&gt;
&lt;li&gt;Connect filtah out to ADSR gate in and listen to the song&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seq_extendgateIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq_extendgate-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seq_extendgateIframe(url){
  var tb303_seq_extendgateIframe = document.getElementById("tb303_seq_extendgate-iframe");
  tb303_seq_extendgateIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq-extendgate"></span>
<p class="caption">
Figure 13.6: <a href="https://cardinal.olney.ai">Virtual modular</a> for improving the 303 patch with extended gates.
</p>
</div>
<p>With the patch in Figure <a href="tb-303.html#fig:tb303-seq-extendgate">13.6</a>, the song may sound more correct but flawed in a different way.
This is because the last patch replaced all gates with extended gates.
Since a few gates are regular gates, they are currently not being generated at all.
Ideally, we'd use logic to define the length of the gate to generate and use the same mechanism to generate both regular and extended gates.
Unfortunately, the module being used to generate extended gates does not accept CV to control gate length.
As a result, we need two sources of gates and to send gates from both sources to the ADSR.
One option would be to use a sequential switch that accepted the gates from both sources and then selected one to send through using logic.
This would require several additional modules.
A simpler approach is to use a mixer to mix extended gates and regular gates from the step/rest sequencer.
This creates lumpy gates, but envelopes generally only pay attention to the rising and falling edges of a gate, so the lumpiness often won't matter.
Try extending the last patch by mixing in regular gates using the button in Figure <a href="tb-303.html#fig:tb303-seq-extendgate-reggate">13.7</a>.
We'll throw in some logic in order to show that the logic doesn't actually matter in this case.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seq_extendgate_reggateIframe('https://cardinal.olney.ai?patchurl=tb303-seq-extendgate.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq_extendgate_reggate">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq_extendgate_reggate" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seq_extendgate_reggateLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seq_extendgate_reggateLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;Let's start with the assumption that logic is needed to solve this problem&lt;/li&gt;
&lt;li&gt;Add dualOR, dualNOT, dualAND, and QuadVCA/Mixer to the bottom row&lt;/li&gt;
&lt;li&gt;Connect TRG slide and extend outs to the dualOR like the last patch. The dualOR will be high if either is active&lt;/li&gt;
&lt;li&gt;Connect the dualOR output to dualNOT input 1. Then dualNOT will be high when neither is active&lt;/li&gt;
&lt;li&gt;Connect dualNOT output to dualAND input 1 and TRG step/rest out to dualAND input 2. The dualAND will be high when there is a regular step and there is no extended gate&lt;/li&gt;
&lt;li&gt;Connect the DGATE out QuadVCA/Mixer input 1 and TRG step/rest out to QuadVCA/Mixer input 2&lt;/li&gt;
&lt;li&gt;Connect the dualAND out to QuadVCA/Mixer gain CV input 2. This will throttle back the regular gates when there is an extended gate&lt;/li&gt;
&lt;li&gt;Move/connect filtah to QuadVCA/Mixer mix out to remove glitches from the gates&lt;/li&gt;
&lt;li&gt;Listen to the song and watch the Scope&lt;ul&gt;
&lt;li&gt;You should see a peak at the end of each extended gate. This is the regular gate being mixed on top of the extended gate&lt;/li&gt;
&lt;li&gt;You should see an occasional solitary regular gate at the same height as the extended gates. This occurs on step 2 (step 16 extends its gate into step 1)&lt;/li&gt;
&lt;li&gt;Remove the dualAND connection to QuadVCA/Mixer gain CV input 2 &lt;/li&gt;
&lt;li&gt;You should see that the extended gates are even lumpier than before, but there is no change in the behavior of the ADSR &lt;/li&gt;
&lt;li&gt;Thus the additional logic modules for regular gates that we added are unnecessary - only the mixer was needed&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;Let's start with the assumption that logic is needed to solve this problem&lt;/li&gt;
&lt;li&gt;Add dualOR, dualNOT, dualAND, and QuadVCA/Mixer to the bottom row&lt;/li&gt;
&lt;li&gt;Connect TRG slide and extend outs to the dualOR like the last patch. The dualOR will be high if either is active&lt;/li&gt;
&lt;li&gt;Connect the dualOR output to dualNOT input 1. Then dualNOT will be high when neither is active&lt;/li&gt;
&lt;li&gt;Connect dualNOT output to dualAND input 1 and TRG step/rest out to dualAND input 2. The dualAND will be high when there is a regular step and there is no extended gate&lt;/li&gt;
&lt;li&gt;Connect the DGATE out QuadVCA/Mixer input 1 and TRG step/rest out to QuadVCA/Mixer input 2&lt;/li&gt;
&lt;li&gt;Connect the dualAND out to QuadVCA/Mixer gain CV input 2. This will throttle back the regular gates when there is an extended gate&lt;/li&gt;
&lt;li&gt;Move/connect filtah to QuadVCA/Mixer mix out to remove glitches from the gates&lt;/li&gt;
&lt;li&gt;Listen to the song and watch the Scope&lt;ul&gt;
&lt;li&gt;You should see a peak at the end of each extended gate. This is the regular gate being mixed on top of the extended gate&lt;/li&gt;
&lt;li&gt;You should see an occasional solitary regular gate at the same height as the extended gates. This occurs on step 2 (step 16 extends its gate into step 1)&lt;/li&gt;
&lt;li&gt;Remove the dualAND connection to QuadVCA/Mixer gain CV input 2 &lt;/li&gt;
&lt;li&gt;You should see that the extended gates are even lumpier than before, but there is no change in the behavior of the ADSR &lt;/li&gt;
&lt;li&gt;Thus the additional logic modules for regular gates that we added are unnecessary - only the mixer was needed&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seq_extendgate_reggateIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq_extendgate_reggate-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seq_extendgate_reggateIframe(url){
  var tb303_seq_extendgate_reggateIframe = document.getElementById("tb303_seq_extendgate_reggate-iframe");
  tb303_seq_extendgate_reggateIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq-extendgate-reggate"></span>
<p class="caption">
Figure 13.7: <a href="https://cardinal.olney.ai">Virtual modular</a> for extending the 303 patch by mixing regular and extended gates.
</p>
</div>
<p>The final element of the sequencer we need to implement are the slide gates.
Recall that slide gates start on the step after the marked step.
For example, if step 8 is marked for a slide, step 8 will have its gate extended, but the slide gate which controls the portamento doesn't start until step 9.
Delayed gates again offer a convenient solution, but again they need to be tuned to the length of a step as well as filtering to glue together overlapping gates.
Unfortunately, it's less clear what the actual slide should look like in terms of its shape, which is important to know for slewing the V/Oct during the duration of the gate.
The Din Sync reference recordings do not have an example of slide.
Plotting the frequency spectrum of the song in Audacity is one way to get the frequencies of a window of audio, but extrapolating that to the change of frequencies over time seems so fraught with error that it is better to attempt setting the slew by ear.
Try extending the last patch with slide gates and tune the V/Oct slew using the button in Figure <a href="tb-303.html#fig:tb303-seq-extendgate-reggate-slidegate">13.8</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seq_extendgate_reggate_slidegateIframe('https://cardinal.olney.ai?patchurl=tb303-seq-extendgate-reggate.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq_extendgate_reggate_slidegate">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq_extendgate_reggate_slidegate" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seq_extendgate_reggate_slidegateLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seq_extendgate_reggate_slidegateLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;On the bottom row to the right of the regular gate section, add dualAND, DGATE, filtah, Slew Limiter, and Scope&lt;/li&gt;
&lt;li&gt;Connect TRG step/rest gate out to dualAND input 1 and TRG slide gate out to dualAND input 2. The dualAND will be high when both have active steps&lt;/li&gt;
&lt;li&gt;Connect dualAND out to DGATE triggger in&lt;/li&gt;
&lt;li&gt;Connect DGATE gate out to filtah in&lt;/li&gt;
&lt;li&gt;Connect filtah out to the rise/fall CV in of the Slew Limiter&lt;/li&gt;
&lt;li&gt;Connect the Quantizer out to the Slew Limiter in and the Slew Limiter out to VCO V/Oct. This will slew the V/Oct on slide gates&lt;/li&gt;
&lt;li&gt;Connect TRG step/rest gate out to Scope input 1 and filtah out to Scope input 2&lt;/li&gt;
&lt;li&gt;Listen to the song and make the following adjustments on the Scope&lt;ul&gt;
&lt;li&gt;The default gate length is 1s and the default delay is 0s. From the extended gate patch we know that a step and a half is around .2s, so a step is around .135s. Since the gate should be delayed 1 step and last 1 step, both of these parameters should be .135s&lt;/li&gt;
&lt;li&gt;Check the length of the slide gate on the scope. Note that some slide gates are consecutive and will be longer&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Listen to the song and make the following adjustments to the Slew Limiter. You may need to have the song open so you can compare back and forth&lt;ul&gt;
&lt;li&gt;Increase the rise and fall sliders in equal amounts. At what point does it no longer sound correct?&lt;/li&gt;
&lt;li&gt;If the slew extends the length of a step, then we expect that a value around .135s will sound correct&lt;/li&gt;
&lt;li&gt;The Slew Limiter also has a shape parameter that goes from linear slew on the left to logarithmic slew on the right. At what point does it no longer sound correct?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;On the bottom row to the right of the regular gate section, add dualAND, DGATE, filtah, Slew Limiter, and Scope&lt;/li&gt;
&lt;li&gt;Connect TRG step/rest gate out to dualAND input 1 and TRG slide gate out to dualAND input 2. The dualAND will be high when both have active steps&lt;/li&gt;
&lt;li&gt;Connect dualAND out to DGATE triggger in&lt;/li&gt;
&lt;li&gt;Connect DGATE gate out to filtah in&lt;/li&gt;
&lt;li&gt;Connect filtah out to the rise/fall CV in of the Slew Limiter&lt;/li&gt;
&lt;li&gt;Connect the Quantizer out to the Slew Limiter in and the Slew Limiter out to VCO V/Oct. This will slew the V/Oct on slide gates&lt;/li&gt;
&lt;li&gt;Connect TRG step/rest gate out to Scope input 1 and filtah out to Scope input 2&lt;/li&gt;
&lt;li&gt;Listen to the song and make the following adjustments on the Scope&lt;ul&gt;
&lt;li&gt;The default gate length is 1s and the default delay is 0s. From the extended gate patch we know that a step and a half is around .2s, so a step is around .135s. Since the gate should be delayed 1 step and last 1 step, both of these parameters should be .135s&lt;/li&gt;
&lt;li&gt;Check the length of the slide gate on the scope. Note that some slide gates are consecutive and will be longer&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Listen to the song and make the following adjustments to the Slew Limiter. You may need to have the song open so you can compare back and forth&lt;ul&gt;
&lt;li&gt;Increase the rise and fall sliders in equal amounts. At what point does it no longer sound correct?&lt;/li&gt;
&lt;li&gt;If the slew extends the length of a step, then we expect that a value around .135s will sound correct&lt;/li&gt;
&lt;li&gt;The Slew Limiter also has a shape parameter that goes from linear slew on the left to logarithmic slew on the right. At what point does it no longer sound correct?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seq_extendgate_reggate_slidegateIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq_extendgate_reggate_slidegate-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seq_extendgate_reggate_slidegateIframe(url){
  var tb303_seq_extendgate_reggate_slidegateIframe = document.getElementById("tb303_seq_extendgate_reggate_slidegate-iframe");
  tb303_seq_extendgate_reggate_slidegateIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq-extendgate-reggate-slidegate"></span>
<p class="caption">
Figure 13.8: <a href="https://cardinal.olney.ai">Virtual modular</a> for extending the 303 patch using slide gates and slewed V/Oct.
</p>
</div>
</div>
<div id="oscillator" class="section level2" number="13.4">
<h2>
<span class="header-section-number">13.4</span> Oscillator<a class="anchor" aria-label="anchor" href="#oscillator"><i class="fas fa-link"></i></a>
</h2>
<p>The waveshapes produced by the 303 are a bit unusual in the reference recordings, as shown in the top row of Figure <a href="tb-303.html#fig:tb303-square-saw-hpf-compare">13.9</a>.
Curiously, each of these waves is very similar to high pass filtered versions of the other wave, as shown in the bottom two rows of Figure <a href="tb-303.html#fig:tb303-square-saw-hpf-compare">13.9</a>.
Based on the reference recordings, we may achieve a more accurate sound by high pass filtering the opposing wave.
That's not to say that this is how it was done in the hardware but rather that it could be a reasonable strategy for recreating the sound in modular.
Because the reference recordings are all at a single note, it's unclear how the filtering could or should track V/Oct.</p>

<div class="figure">
<span style="display:block;" id="fig:tb303-square-saw-hpf-compare"></span>
<img src="images/tb303-square-saw-hpf-compare.png" alt="Top row: square (left) and saw (right) waves for a C note from the Din Sync 303 reference recordings. Note neither waveshape matches the canonical form. Middle row: square wave (left) that is high pass filtered (right), creating a shape similar to the reference recording saw wave. Bottom row: saw wave (left) that is high pass filtered (right), creating a shape similar to the reference recording square wave." width="100%"><p class="caption">
Figure 13.9: Top row: square (left) and saw (right) waves for a C note from the Din Sync 303 reference recordings. Note neither waveshape matches the canonical form. Middle row: square wave (left) that is high pass filtered (right), creating a shape similar to the reference recording saw wave. Bottom row: saw wave (left) that is high pass filtered (right), creating a shape similar to the reference recording square wave.
</p>
</div>
<p>Another quirk of the 303 oscillator is that, according to Whittle, the duty cycle of the square wave at high pitches is about 45% but about 71% at the lowest pitches.
We can approximate this change in duty cycle by modulating the PWM input of the oscillator using the same voltage that is controlling pitch.
Try extending the last patch with these oscillator modifications using the button in Figure <a href="tb-303.html#fig:tb303-seq-extendgate-reggate-slidegate-osc">13.10</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seq_extendgate_reggate_slidegate_oscIframe('https://cardinal.olney.ai?patchurl=tb303-seq-extendgate-reggate-slidegate.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq_extendgate_reggate_slidegate_osc">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq_extendgate_reggate_slidegate_osc" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seq_extendgate_reggate_slidegate_oscLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seq_extendgate_reggate_slidegate_oscLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;Move the VCO down to the right of the slide gate section&lt;/li&gt;
&lt;li&gt;Add two VCFs to the right of the VCO and tune their cutoffs to 82 Hz&lt;/li&gt;
&lt;li&gt;Add Bog Audio Switch81 and Scope to the right of the two VCFs &lt;/li&gt;
&lt;li&gt;Connect VCO square and saw outs to the respective ins of the VCFs&lt;/li&gt;
&lt;li&gt;Connect the VCF HPF outs to the first two inputs of the Switch. Right click the Switch and select exclusive switching so we can choose one oscillator or the other&lt;/li&gt;
&lt;li&gt;Connect Switch out to the Scope input 1 and to the VCA in on the row above &lt;/li&gt;
&lt;li&gt;Try the following and note the differences in the sound and scope waveshape&lt;ul&gt;
&lt;li&gt;Adjust the VCF cutoffs to approximately match the reference wave shapes (I set mine at 115 Hz)&lt;/li&gt;
&lt;li&gt;Connect the V/Oct to the cutoff inputs of both VCFs and adjust the attenuverter to match the reference wave shape (I set mine to 100%)&lt;/li&gt;
&lt;li&gt;Connect the V/Oct to the VCO PWM input and adjust the attenuverter to match the 45%-71% range described by Whittle (I set mine to -64%)&lt;/li&gt;
&lt;li&gt;What effect does the filtering have on the sound? Does it sound more or less correct to you?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class='d-flex flex-row justify-content-around'&gt;
&lt;img class='rack-image' src='images/solo-modules/switch81-solo.png'&gt;
&lt;/div&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate-osc.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;Move the VCO down to the right of the slide gate section&lt;/li&gt;
&lt;li&gt;Add two VCFs to the right of the VCO and tune their cutoffs to 82 Hz&lt;/li&gt;
&lt;li&gt;Add Bog Audio Switch81 and Scope to the right of the two VCFs &lt;/li&gt;
&lt;li&gt;Connect VCO square and saw outs to the respective ins of the VCFs&lt;/li&gt;
&lt;li&gt;Connect the VCF HPF outs to the first two inputs of the Switch. Right click the Switch and select exclusive switching so we can choose one oscillator or the other&lt;/li&gt;
&lt;li&gt;Connect Switch out to the Scope input 1 and to the VCA in on the row above &lt;/li&gt;
&lt;li&gt;Try the following and note the differences in the sound and scope waveshape&lt;ul&gt;
&lt;li&gt;Adjust the VCF cutoffs to approximately match the reference wave shapes (I set mine at 115 Hz)&lt;/li&gt;
&lt;li&gt;Connect the V/Oct to the cutoff inputs of both VCFs and adjust the attenuverter to match the reference wave shape (I set mine to 100%)&lt;/li&gt;
&lt;li&gt;Connect the V/Oct to the VCO PWM input and adjust the attenuverter to match the 45%-71% range described by Whittle (I set mine to -64%)&lt;/li&gt;
&lt;li&gt;What effect does the filtering have on the sound? Does it sound more or less correct to you?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class='d-flex flex-row justify-content-around'&gt;
&lt;img class='rack-image' src='images/solo-modules/switch81-solo.png'&gt;
&lt;/div&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate-osc.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seq_extendgate_reggate_slidegate_oscIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq_extendgate_reggate_slidegate_osc-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seq_extendgate_reggate_slidegate_oscIframe(url){
  var tb303_seq_extendgate_reggate_slidegate_oscIframe = document.getElementById("tb303_seq_extendgate_reggate_slidegate_osc-iframe");
  tb303_seq_extendgate_reggate_slidegate_oscIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq-extendgate-reggate-slidegate-osc"></span>
<p class="caption">
Figure 13.10: <a href="https://cardinal.olney.ai">Virtual modular</a> for extending the 303 patch with oscillator modifications for V/Oct driven PWM and HPF.
</p>
</div>
</div>
<div id="filter-and-envelope-generators" class="section level2" number="13.5">
<h2>
<span class="header-section-number">13.5</span> Filter and envelope generators<a class="anchor" aria-label="anchor" href="#filter-and-envelope-generators"><i class="fas fa-link"></i></a>
</h2>
<p>The filter on the 303 has been the subject of much debate and speculation.
Tim Stinchcombe has done <a href="https://www.timstinchcombe.co.uk/index.php?pge=diode">extensive analysis of the filter and its transfer function</a>.
His results indicate that the filter is a 24 dB, 4-pole filter, and he suggests that perhaps the reason it is commonly described as an 18 dB filter is that it behaves more like an 18 dB filter over much of its audible range.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Perhaps there were legal reasons for Roland to go along with the 18 dB description. The 303 diode ladder filter is seen as similar to the Moog transistor ladder filter, which was protected by patent at the time the 303 was developed.&lt;/p&gt;"><sup>103</sup></a>
The 303's filter no doubt plays a significant role in its sound, but in our virtual modular environment we are rather constrained by a lack of filter options.
Another diode ladder filter would likely be the best choice, but short of that, a 24 dB transistor ladder filter seems the best alternative.</p>
<p>The 303 has two envelopes, which Whittle calls the main envelope generator (MEG) and the volume envelope generator (VEG).<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://www.firstpr.com.au/rwi/dfish/303-unique.html" class="uri"&gt;https://www.firstpr.com.au/rwi/dfish/303-unique.html&lt;/a&gt;&lt;/p&gt;'><sup>104</sup></a>
Both envelopes are attack-decay with very fast attack.
The MEG controls the filter cutoff, and the VEG controls the final VCA.
The MEG and VEG have additional complexities involving accents, but we will address those in the next section.
Try extending the last patch with the filter and envelope generators using the button in Figure <a href="tb-303.html#fig:tb303-seq-extendgate-reggate-slidegate-osc-megveg">13.11</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seq_extendgate_reggate_slidegate_osc_megvegIframe('https://cardinal.olney.ai?patchurl=tb303-seq-extendgate-reggate-slidegate-osc.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq_extendgate_reggate_slidegate_osc_megveg">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq_extendgate_reggate_slidegate_osc_megveg" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seq_extendgate_reggate_slidegate_osc_megvegLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seq_extendgate_reggate_slidegate_osc_megvegLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;To the right of Four-View, add ADSR, VCR, ADSR, and Scope &lt;/li&gt;
&lt;li&gt;Connect the extended gate out to the first ADSR gate in. This is the MEG. The decay on the MEG corresponds to the 303 'decay' knob&lt;/li&gt;
&lt;li&gt;Connect the MEG out to VCF cutoff in. The cutoff on the VCF corresponds to the 303 'cut off freq' knob, the resonance on the VCF corresponds to the 303 'resonance' knob, and the cutoff attenuator correponds to the 303 'env mod' knob&lt;/li&gt;
&lt;li&gt;Connect Switch out to VCF in and VCF LPF out to VCA in &lt;/li&gt;
&lt;li&gt;Connect the extended gate out to the second ADSR. This is the VEG&lt;/li&gt;
&lt;li&gt;Connect VEG out to the adjacent Scope input 1 and to the VCA cv in&lt;/li&gt;
&lt;li&gt;Try the following and note the differences in the sound and scope waveshape&lt;ul&gt;
&lt;li&gt;Adjust the MEG ADSR parameters for a short attack and long decay&lt;/li&gt;
&lt;li&gt;Adjust the VEG ADSR parameters for a short attack and long decay&lt;/li&gt;
&lt;li&gt;Adjust the VCF cutoff, resonance, and cutoff attenuator to match the reference recording&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate-osc-megveg.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;To the right of Four-View, add ADSR, VCR, ADSR, and Scope &lt;/li&gt;
&lt;li&gt;Connect the extended gate out to the first ADSR gate in. This is the MEG. The decay on the MEG corresponds to the 303 'decay' knob&lt;/li&gt;
&lt;li&gt;Connect the MEG out to VCF cutoff in. The cutoff on the VCF corresponds to the 303 'cut off freq' knob, the resonance on the VCF corresponds to the 303 'resonance' knob, and the cutoff attenuator correponds to the 303 'env mod' knob&lt;/li&gt;
&lt;li&gt;Connect Switch out to VCF in and VCF LPF out to VCA in &lt;/li&gt;
&lt;li&gt;Connect the extended gate out to the second ADSR. This is the VEG&lt;/li&gt;
&lt;li&gt;Connect VEG out to the adjacent Scope input 1 and to the VCA cv in&lt;/li&gt;
&lt;li&gt;Try the following and note the differences in the sound and scope waveshape&lt;ul&gt;
&lt;li&gt;Adjust the MEG ADSR parameters for a short attack and long decay&lt;/li&gt;
&lt;li&gt;Adjust the VEG ADSR parameters for a short attack and long decay&lt;/li&gt;
&lt;li&gt;Adjust the VCF cutoff, resonance, and cutoff attenuator to match the reference recording&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image-6u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate-osc-megveg.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seq_extendgate_reggate_slidegate_osc_megvegIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq_extendgate_reggate_slidegate_osc_megveg-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seq_extendgate_reggate_slidegate_osc_megvegIframe(url){
  var tb303_seq_extendgate_reggate_slidegate_osc_megvegIframe = document.getElementById("tb303_seq_extendgate_reggate_slidegate_osc_megveg-iframe");
  tb303_seq_extendgate_reggate_slidegate_osc_megvegIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq-extendgate-reggate-slidegate-osc-megveg"></span>
<p class="caption">
Figure 13.11: <a href="https://cardinal.olney.ai">Virtual modular</a> for extending the 303 patch with filter and envelope generators.
</p>
</div>
</div>
<div id="accent" class="section level2" number="13.6">
<h2>
<span class="header-section-number">13.6</span> Accent<a class="anchor" aria-label="anchor" href="#accent"><i class="fas fa-link"></i></a>
</h2>
<p>The 303 accent system alters the behavior of the MEG and VEG.
The accented changes and be broadly thought of as a pluckier sound that is shorter, louder, and slightly brighter.
On an accented note:</p>
<ul>
<li>The MEG decay is shortened</li>
<li>The MEG sends additional control voltage to the VCA, making it louder</li>
<li>The filter cutoff is raised</li>
</ul>
<p>Whittle <a href="https://www.firstpr.com.au/rwi/dfish/303-unique.html">describes the effect on the filter</a> as an accent sweep circuit that smooths the control voltage driving the filter cutoff.
The smoothed voltage has a slow decay, so if there are multiple accent notes in a row, the voltage will continue to increase, creating a series of increasing peaks in filter cutoff, as shown in Figure <a href="tb-303.html#fig:accent-sweep">13.12</a>.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Based on &lt;a href=&quot;https://www.firstpr.com.au/rwi/dfish/303-unique.html&quot;&gt;Whittle's diagram.&lt;/a&gt;&lt;/p&gt;"><sup>105</sup></a></p>

<div class="figure">
<span style="display:block;" id="fig:accent-sweep"></span>
<img src="images/accent-sweep.png" alt="Conceptual diagram of the effect of the 303 accent sweep circuit on filter cutoff control voltage. The accent sweep circuit does not fully discharge before the next step, creating increasing peaks when consecutive steps are accented." width="95%"><p class="caption">
Figure 13.12: Conceptual diagram of the effect of the 303 accent sweep circuit on filter cutoff control voltage. The accent sweep circuit does not fully discharge before the next step, creating increasing peaks when consecutive steps are accented.
</p>
</div>
<p>The accent system can be conceptualized in modular by incorporating a module that does smoothing and by incorporating a module that gives regular envelopes when no accents are received and modified envelopes when accents are received.
Smoothing can normally be accomplished using a slew limiter.
Modifying envelopes when accents are received can be accomplished similarly to how we modified gates, i.e. by creating step-length gates when accets are received, and using those gates to decide when to alternate between accented voltages and regular MEG voltages.
However, there seems to be a point of ambiguity in Whittle's description on how the smooth voltages is used.
It could be that there is a switch controlled by accents that determines whether to use the smoothed voltage or the regular MEG voltage.
The apparent problem with that is that the smoothed voltage will have a much longer decay than normal, which is the opposite of the behavior the accented envelope is supposed to have.
For this reason, it seems a better solution is to mix the smoothed voltage with the regular envelope on accented steps.
Try extending the last patch with the accents using the button in Figure <a href="tb-303.html#fig:tb303-seq-extendgate-reggate-slidegate-osc-megveg-accents">13.13</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="settb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsIframe('https://cardinal.olney.ai?patchurl=tb303-seq-extendgate-reggate-slidegate-osc-megveg.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#tb303_seq_extendgate_reggate_slidegate_osc_megveg_accents">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="tb303_seq_extendgate_reggate_slidegate_osc_megveg_accents" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="tb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="tb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;On the row above the sequencer row, add DGATE, filtah (you can copy these from the slide window), Scope, Slew Limiter, Offset, QuadVCA/Mixer, and Scope for the MEG and QuadVCA/Mixer and Scope for the VEG&lt;/li&gt;
&lt;li&gt;Connect the accent sequencer (the order is PRASE) to DGATE trigger in and DGATE gate out to filtah input. This will create single gates for accents that cross several steps&lt;/li&gt;
&lt;li&gt;Connect filtah out to input 1 of both Scopes&lt;/li&gt;
&lt;li&gt;Connect filtah out to MEG ADSR decay.  This will control decay on accented notes&lt;/li&gt;
&lt;li&gt;Connect MEG ADSR out to Slew in and Slew out to Offset in&lt;/li&gt;
&lt;li&gt;Connect Offset out to VEG QuadVCA/Mixer input 1. This will send extra volume voltage on accented notes&lt;/li&gt;
&lt;li&gt;Connect the Offset out to the MEG QuadVCA/Mixer input 1 and the MEG ADSR out to the same QuadVCA/Mixer input 2&lt;/li&gt;
&lt;li&gt;Connect filtah out to MEG QuadVCA/Mixer input 1 gain. This will gate the smoothed voltage so it is added only on accents&lt;/li&gt;
&lt;li&gt;Connect MEG QuadVCA/Mixer mix out to VEG Scope input 2 and VCF cutoff&lt;/li&gt;
&lt;li&gt;Connect Slew out to MEG Scope input 2&lt;/li&gt;
&lt;li&gt;Connect VEG ADSR to VEG QuadVCA/Mixer input 2&lt;/li&gt;
&lt;li&gt;Connect VEG QuadVCA/Mixer mix out to VEG Scope input 1 and VCA cv in&lt;/li&gt;
&lt;li&gt;Connect VEG ADSR out to VEG Scope input 2&lt;/li&gt;
&lt;li&gt;Try the following and note the differences in the sound and scope waveshape&lt;ul&gt;
&lt;li&gt;Adjust DGATE and filtah to match a step, using the slide window parameters as a model. You should see a long gate that covers 4 accented steps and a short gate that covers 1 on the scope&lt;/li&gt;
&lt;li&gt;Adjust the Slew rise/fall to get a curve like the diagram on the text, i.e. multiple peaks. Notet the Scope will show all envelopes, not just the accented ones, which align with the accent gates &lt;/li&gt;
&lt;li&gt;Adjust the MEG mixer levels to combine the smoothed and regular envelopes using the second scope. You should see higher peaks when the offset scale knob is turned up. This knob corresponds to the 303 accent knob. If the signal is too hot, it will be flat on top to indicate clipping&lt;/li&gt;
&lt;li&gt;Adjust the decay attenuverter on the MEG ADSR and the cutoff knob on the MEG VCF&lt;/li&gt;
&lt;li&gt;Adjust the mixer levels on the VEG using the scope as a guide. You should see a bump on the VEG scope for accented notes relative to unaccented notes&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Have a jam and test out the sound. The following correspond to the 303 knobs&lt;ul&gt;
&lt;li&gt;MEG VCF cutoff is the 303 cutoff frequency&lt;/li&gt;
&lt;li&gt;MEG VCF resonance is the 303 resonance&lt;/li&gt;
&lt;li&gt;MEG VCF cutoff attenuverter is the 303 env mod&lt;/li&gt;
&lt;li&gt;MEG ADSR decay is the 303 decay&lt;/li&gt;
&lt;li&gt;Accent Offset is the accent&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image-9u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate-osc-megveg-accents.png'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Stop, reset, and run the sequencers to make sure they are in sync&lt;/li&gt;
&lt;li&gt;On the row above the sequencer row, add DGATE, filtah (you can copy these from the slide window), Scope, Slew Limiter, Offset, QuadVCA/Mixer, and Scope for the MEG and QuadVCA/Mixer and Scope for the VEG&lt;/li&gt;
&lt;li&gt;Connect the accent sequencer (the order is PRASE) to DGATE trigger in and DGATE gate out to filtah input. This will create single gates for accents that cross several steps&lt;/li&gt;
&lt;li&gt;Connect filtah out to input 1 of both Scopes&lt;/li&gt;
&lt;li&gt;Connect filtah out to MEG ADSR decay.  This will control decay on accented notes&lt;/li&gt;
&lt;li&gt;Connect MEG ADSR out to Slew in and Slew out to Offset in&lt;/li&gt;
&lt;li&gt;Connect Offset out to VEG QuadVCA/Mixer input 1. This will send extra volume voltage on accented notes&lt;/li&gt;
&lt;li&gt;Connect the Offset out to the MEG QuadVCA/Mixer input 1 and the MEG ADSR out to the same QuadVCA/Mixer input 2&lt;/li&gt;
&lt;li&gt;Connect filtah out to MEG QuadVCA/Mixer input 1 gain. This will gate the smoothed voltage so it is added only on accents&lt;/li&gt;
&lt;li&gt;Connect MEG QuadVCA/Mixer mix out to VEG Scope input 2 and VCF cutoff&lt;/li&gt;
&lt;li&gt;Connect Slew out to MEG Scope input 2&lt;/li&gt;
&lt;li&gt;Connect VEG ADSR to VEG QuadVCA/Mixer input 2&lt;/li&gt;
&lt;li&gt;Connect VEG QuadVCA/Mixer mix out to VEG Scope input 1 and VCA cv in&lt;/li&gt;
&lt;li&gt;Connect VEG ADSR out to VEG Scope input 2&lt;/li&gt;
&lt;li&gt;Try the following and note the differences in the sound and scope waveshape&lt;ul&gt;
&lt;li&gt;Adjust DGATE and filtah to match a step, using the slide window parameters as a model. You should see a long gate that covers 4 accented steps and a short gate that covers 1 on the scope&lt;/li&gt;
&lt;li&gt;Adjust the Slew rise/fall to get a curve like the diagram on the text, i.e. multiple peaks. Notet the Scope will show all envelopes, not just the accented ones, which align with the accent gates &lt;/li&gt;
&lt;li&gt;Adjust the MEG mixer levels to combine the smoothed and regular envelopes using the second scope. You should see higher peaks when the offset scale knob is turned up. This knob corresponds to the 303 accent knob. If the signal is too hot, it will be flat on top to indicate clipping&lt;/li&gt;
&lt;li&gt;Adjust the decay attenuverter on the MEG ADSR and the cutoff knob on the MEG VCF&lt;/li&gt;
&lt;li&gt;Adjust the mixer levels on the VEG using the scope as a guide. You should see a bump on the VEG scope for accented notes relative to unaccented notes&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Have a jam and test out the sound. The following correspond to the 303 knobs&lt;ul&gt;
&lt;li&gt;MEG VCF cutoff is the 303 cutoff frequency&lt;/li&gt;
&lt;li&gt;MEG VCF resonance is the 303 resonance&lt;/li&gt;
&lt;li&gt;MEG VCF cutoff attenuverter is the 303 env mod&lt;/li&gt;
&lt;li&gt;MEG ADSR decay is the 303 decay&lt;/li&gt;
&lt;li&gt;Accent Offset is the accent&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image-9u' src='images/patch-solutions/tb303-seq-extendgate-reggate-slidegate-osc-megveg-accents.png'&gt;">Solution</button>
        <button type="button" onclick="settb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="tb303_seq_extendgate_reggate_slidegate_osc_megveg_accents-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function settb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsIframe(url){
  var tb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsIframe = document.getElementById("tb303_seq_extendgate_reggate_slidegate_osc_megveg_accents-iframe");
  tb303_seq_extendgate_reggate_slidegate_osc_megveg_accentsIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:tb303-seq-extendgate-reggate-slidegate-osc-megveg-accents"></span>
<p class="caption">
Figure 13.13: <a href="https://cardinal.olney.ai">Virtual modular</a> for for extending the 303 patch with accents.
</p>
</div>
</div>
<div id="looking-back" class="section level2" number="13.7">
<h2>
<span class="header-section-number">13.7</span> Looking back<a class="anchor" aria-label="anchor" href="#looking-back"><i class="fas fa-link"></i></a>
</h2>
<p>Overall this seems like a decent approximation to a 303.
My biggest reservations are around the accent system, which seems to capture some but not all of Whittle's descriptions.
Improving the accent system would require additional research and probably studying the circuit itself.
It would also be nice to have a diode ladder filter module rather than a transistor ladder module.
The transistor ladder seems to a pretty good job at low to medium resonance, but I'm not as convinced at higher resonance.
Probably the best way to make continued progress on this patch would be to obtain a real 303 and then make reference recordings for our target song and then use those to better tune parameters and make design decisions.</p>

</div>
</div>

<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script><div class="chapter-nav">
<div class="prev"><a href="complex-modifiers.html"><span class="header-section-number">12</span> Modulating Modifiers</a></div>
<div class="next"><a href="krell.html"><span class="header-section-number">14</span> Krell</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#tb-303"><span class="header-section-number">13</span> TB-303</a></li>
<li><a class="nav-link" href="#history"><span class="header-section-number">13.1</span> History</a></li>
<li><a class="nav-link" href="#problem-solving-approach"><span class="header-section-number">13.2</span> Problem solving approach</a></li>
<li><a class="nav-link" href="#sequencing"><span class="header-section-number">13.3</span> Sequencing</a></li>
<li><a class="nav-link" href="#oscillator"><span class="header-section-number">13.4</span> Oscillator</a></li>
<li><a class="nav-link" href="#filter-and-envelope-generators"><span class="header-section-number">13.5</span> Filter and envelope generators</a></li>
<li><a class="nav-link" href="#accent"><span class="header-section-number">13.6</span> Accent</a></li>
<li><a class="nav-link" href="#looking-back"><span class="header-section-number">13.7</span> Looking back</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/aolney/ct-modular-book/blob/master/13-tb-303.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/aolney/ct-modular-book/edit/master/13-tb-303.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Computational Thinking through Modular Sound Synthesis</strong>" was written by Andrew M. Olney. It was last built on 2022-12-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
