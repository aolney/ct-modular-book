<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 4 Basic Modeling Concepts | Computational Thinking through Modular Sounds Synthesis</title>
<meta name="author" content="Andrew M. Olney">
<meta name="description" content="Chapters 2 and 3 focused on the “understand the problem” stage of problem solving, and they introduced both the basic concepts and terminology of modeling sound. The present chapter pivots to the...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="Chapter 4 Basic Modeling Concepts | Computational Thinking through Modular Sounds Synthesis">
<meta property="og:type" content="book">
<meta property="og:url" content="https://olney.ai/ct-modular-book/index.html/basic-modeling-concepts.html">
<meta property="og:description" content="Chapters 2 and 3 focused on the “understand the problem” stage of problem solving, and they introduced both the basic concepts and terminology of modeling sound. The present chapter pivots to the...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 4 Basic Modeling Concepts | Computational Thinking through Modular Sounds Synthesis">
<meta name="twitter:description" content="Chapters 2 and 3 focused on the “understand the problem” stage of problem solving, and they introduced both the basic concepts and terminology of modeling sound. The present chapter pivots to the...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Computational Thinking through Modular Sounds Synthesis</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="introduction.html"><span class="header-section-number">1</span> Introduction</a></li>
<li class="book-part">Sound</li>
<li><a class="" href="physics-and-perception-of-sound.html"><span class="header-section-number">2</span> Physics and Perception of Sound</a></li>
<li><a class="" href="harmonic-and-inharmonic-sounds.html"><span class="header-section-number">3</span> Harmonic and Inharmonic Sounds</a></li>
<li class="book-part">Fundamental Modules</li>
<li><a class="active" href="basic-modeling-concepts.html"><span class="header-section-number">4</span> Basic Modeling Concepts</a></li>
<li><a class="" href="controllers.html"><span class="header-section-number">5</span> Controllers</a></li>
<li><a class="" href="generators.html"><span class="header-section-number">6</span> Generators</a></li>
<li><a class="" href="modifiers.html"><span class="header-section-number">7</span> Modifiers</a></li>
<li class="book-part">Sound Design 1</li>
<li><a class="" href="designing-a-kick-drum.html"><span class="header-section-number">8</span> Designing a Kick Drum</a></li>
<li><a class="" href="eighties-lead.html"><span class="header-section-number">9</span> Eighties Lead &amp; ???</a></li>
<li class="book-part">Complex Modules</li>
<li><a class="" href="trigger.html"><span class="header-section-number">10</span> Trigger</a></li>
<li><a class="" href="create.html"><span class="header-section-number">11</span> Create</a></li>
<li><a class="" href="modify.html"><span class="header-section-number">12</span> Modify</a></li>
<li class="book-part">Sound Design 2</li>
<li><a class="" href="minimoog-303.html"><span class="header-section-number">13</span> Minimoog &amp; 303</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/aolney/ct-modular-book">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="basic-modeling-concepts" class="section level1" number="4">
<h1>
<span class="header-section-number">4</span> Basic Modeling Concepts<a class="anchor" aria-label="anchor" href="#basic-modeling-concepts"><i class="fas fa-link"></i></a>
</h1>
<p>Chapters <a href="physics-and-perception-of-sound.html#physics-and-perception-of-sound">2</a> and <a href="harmonic-and-inharmonic-sounds.html#harmonic-and-inharmonic-sounds">3</a> focused on the “understand the problem” stage of problem solving, and they introduced both the basic concepts and terminology of modeling sound.
The present chapter pivots to the make/implement a plan stages of problem solving by introducing the model elements and how they interact.
Since we are building models for modular synthesis, the model elements are the modules, and their interactions are driven by how they are connected together in a patch.
Figure <a href="basic-modeling-concepts.html#fig:serge-modular-2">4.1</a> shows an example patch on a real modular synthesizer from Chapter <a href="introduction.html#introduction">1</a>.</p>

<div class="figure">
<span style="display:block;" id="fig:serge-modular-2"></span>
<img src="images/Serge_Modular,_Norbergfestival_2007_cropped.jpg" alt="A Serge modular system based on a 1970s design. Each module is labeled at the top edge, e.g. Wave Multiplier, and extends down to the bottom edge in a column. Note that although the modules have the same height, they have different widths. Image © mikael altemark/CC-BY-2.0." width="100%"><p class="caption">
Figure 4.1: A Serge modular system based on a 1970s design. Each module is labeled at the top edge, e.g. <code>Wave Multiplier</code>, and extends down to the bottom edge in a column. Note that although the modules have the same height, they have different widths. Image <a href="https://commons.wikimedia.org/wiki/File:Serge_Modular,_Norbergfestival_2007.jpg">© mikael altemark/CC-BY-2.0</a>.
</p>
</div>
<p>Here and throughout the book, we will use open source modular software called VCVRack<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;span&gt;“&lt;span&gt;VCV&lt;/span&gt; &lt;span&gt;Rack&lt;/span&gt; - &lt;span&gt;The&lt;/span&gt; &lt;span&gt;Eurorack&lt;/span&gt; Simulator for &lt;span&gt;Windows&lt;/span&gt;/&lt;span&gt;Mac&lt;/span&gt;/&lt;span&gt;Linux&lt;/span&gt;,”&lt;/span&gt; 2022, &lt;a href="https://vcvrack.com/" role="doc-biblioref"&gt;https://vcvrack.com/&lt;/a&gt;.&lt;/p&gt;'><sup>33</sup></a></span> that has been ported to the web.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;span&gt;“&lt;span&gt;DISTRHO&lt;/span&gt; &lt;span&gt;Cardinal&lt;/span&gt;”&lt;/span&gt; (DISTRHO, September 2022), &lt;a href="https://github.com/DISTRHO/Cardinal" role="doc-biblioref"&gt;https://github.com/DISTRHO/Cardinal&lt;/a&gt;.&lt;/p&gt;'><sup>34</sup></a></span>
This version is integrated with the the web version of the book so you can read about modular and solve sound design problems within the same environment.
VCVRack is widely used in practice and has emulations of many hardware modules, so any details you learn about specific modules here could be useful down the road.</p>
<div id="modules-are-the-model-elements" class="section level2" number="4.1">
<h2>
<span class="header-section-number">4.1</span> Modules are the model elements<a class="anchor" aria-label="anchor" href="#modules-are-the-model-elements"><i class="fas fa-link"></i></a>
</h2>
<p>The universe of modules is rather vast, which can make learning about modules overwhelming.
For example, <a href="https://www.modulargrid.net/">ModularGrid</a> lists over 10,000 modules and classifies them according to 56 categories based on their function.
While those 56 categories are certainly real and useful, you can get the main idea with only three categories: controllers, generators, and modifiers.
You might think of these as “categories of categories.”</p>
<p><strong>Controllers</strong> initiate musical events.
An example controller is a module that waits for key presses and, on receiving them, sends a signal to initiate a musical event.
Another example is a sequencer, which you can think of as way of emulating timed key presses to initiate musical events.</p>
<p><strong>Generators</strong> create audible sound.
An example generator is an oscillator that generates one or more of the four basic waveshapes discussed in Section <a href="physics-and-perception-of-sound.html#waveshape-and-timbre">2.4</a>.
Another example is a noise generator that generates one or more colors of noise described in Section <a href="harmonic-and-inharmonic-sounds.html#inharmonic-standing-waves-and-noise">3.3</a>.</p>
<p><strong>Modifiers</strong> modify incoming signals that may be either audio or some kind of control signal.
An example audio modifier is a reverb, which adds diffuse echoes to sound, giving it the feel of being played in a room.
An example control signal modifier is an envelope, which we can use to control the amplitude of a sound over time, as discussed in Section <a href="harmonic-and-inharmonic-sounds.html#dynamics-and-envelopes">3.4</a>.</p>
</div>
<div id="signals-are-how-the-model-elements-interact" class="section level2" number="4.2">
<h2>
<span class="header-section-number">4.2</span> Signals are how the model elements interact<a class="anchor" aria-label="anchor" href="#signals-are-how-the-model-elements-interact"><i class="fas fa-link"></i></a>
</h2>
<p>Modules interact with each other through signals sent via patch cables.
Starting with the signals, we can broadly separate them into two types: audio and control signals.
Audio signals are a voltage representation of sound.
Recall that sound is a pressure wave with high and low phases of pressure.
It’s perhaps not surprising that audio signals use corresponding positive and negative voltage to represent a sound wave.
This kind of voltage is <a href="https://en.wikipedia.org/wiki/Alternating_current#Mathematics_of_AC_voltages">AC voltage</a>.
Anytime a signal is bipoloar, i.e. it crosses zero, you can assume the voltage is AC.</p>
<p>Control signals represent everything besides audio.
Unlike audio signals, control signals are unipolar voltage representations, i.e. they don’t cross zero, and thus use <a href="https://en.wikipedia.org/wiki/Direct_current#Various_definitions">DC voltage</a>.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Under this definition, low frequency oscillators are audio signals, not control signals.&lt;/p&gt;"><sup>35</sup></a>
There are two main types of control signals in modular synthesis.
Both of these can be understood in terms of light switches as shown in Figure <a href="basic-modeling-concepts.html#fig:light-switches">4.2</a>.
Regular light switches are either on or off.
In terms of voltage, they are either at minimum voltage or maximum voltage.
Dimmer switches in contrast can smoothly adjust voltage between their minimum and maximum.</p>

<div class="figure">
<span style="display:block;" id="fig:light-switches"></span>
<img src="images/light-switches.jpg" alt="On/off light switch (left) and dimmer light switch (right). While on/off switches can only be at minimum or maximum voltage, dimmer switches can be at all voltages in between. Images © DemonDays64/CC-BY-4.0 and © Paolomarco/CC-BY-4.0." width="100%"><p class="caption">
Figure 4.2: On/off light switch (left) and dimmer light switch (right). While on/off switches can only be at minimum or maximum voltage, dimmer switches can be at all voltages in between. Images <a href="https://commons.wikimedia.org/wiki/File:Rocker_light_switch.jpg">© DemonDays64/CC-BY-4.0</a> and <a href="https://commons.wikimedia.org/wiki/File:Dimmer_Light_Switch.jpg">© Paolomarco/CC-BY-4.0</a>.
</p>
</div>
<p>On/off signals are either gates or triggers, as shown in Figure <a href="basic-modeling-concepts.html#fig:trigger-gate">4.3</a>.
Both triggers and gates are rectangular pulses that control a musical event.
The difference is that triggers are used to start musical events, but gates are used to both start and end musical events.
That’s why triggers have the same length, but the length of gates varies by the end time of the musical event.
As a result, we can use a trigger to model a drum hit, but we need a gate to model holding down a key on keyboard.</p>

<div class="figure">
<span style="display:block;" id="fig:trigger-gate"></span>
<img src="images/trigger-gate.PNG" alt="Triggers and gates shown over time. Both are on/off unipolar voltages that show as rectangular pulses. Only gates have variable duration." width="100%"><p class="caption">
Figure 4.3: Triggers and gates shown over time. Both are on/off unipolar voltages that show as rectangular pulses. Only gates have variable duration.
</p>
</div>
<p>Envelopes are a great example of a continuous control voltage.
As discussed in Section <a href="harmonic-and-inharmonic-sounds.html#dynamics-and-envelopes">3.4</a>, envelopes can be used to control the amplitude of a sound wave and thus its loudness.
We can represent an envelope in control voltage (y-axis) as shown in Figure <a href="basic-modeling-concepts.html#fig:voltage-adsr">4.4</a>.
This envelope example illustrates how flexible control voltage can be - any voltage level or shape over time is possible.</p>

<div class="figure">
<span style="display:block;" id="fig:voltage-adsr"></span>
<img src="images/voltage-adsr.PNG" alt="An example Attack-Decay-Sustain-Release (ADSR) envelope represented as control voltage." width="100%"><p class="caption">
Figure 4.4: An example Attack-Decay-Sustain-Release (ADSR) envelope represented as control voltage.
</p>
</div>
<p>In the Eurorack modular format, signal voltages typically span 10 volts.
This is much move voltage than common audio devices, so connecting modular gear to standard audio equipment requires some care.
Table <a href="basic-modeling-concepts.html#tab:voltage">4.1</a> presents the voltage levels for modular signals in Eurorack, together with common audio signals for reference.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:voltage">Table 4.1: </span> The voltage ranges for Eurorack modular signals compared with standard audio equipment.</caption>
<colgroup>
<col width="33%">
<col width="18%">
<col width="27%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th>Modular signals</th>
<th align="center">Voltage range</th>
<th>Common audio signals</th>
<th align="center">Voltage range</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Audio signal</td>
<td align="center">-5 to +5</td>
<td>Pro audio level</td>
<td align="center">-1.7 to +1.7</td>
</tr>
<tr class="even">
<td>Continuous control signal<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Can be inverted&lt;/p&gt;"><sup>36</sup></a>
</td>
<td align="center">0 to 10</td>
<td>Line audio level</td>
<td align="center">-.45 to +.45</td>
</tr>
<tr class="odd">
<td>On/off control signal</td>
<td align="center">0 to 5</td>
<td>Instrument level</td>
<td align="center">-.02 to +.02</td>
</tr>
<tr class="even">
<td></td>
<td align="center"></td>
<td>Microphone level</td>
<td align="center">-.005 to +.005</td>
</tr>
</tbody>
</table></div>
<p>Modular signals are transmitted by patch cables.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;The Eurorack standard does allow for signals to be &lt;a href="https://doepfer.de/a100_man/a100t_e.htm"&gt;transmitted using a bus on the in-case ribbon cable&lt;/a&gt;, but few modules support this. Likewise there are other bus conventions that are not widely followed like &lt;a href="https://en.wikipedia.org/wiki/I%C2%B2C"&gt;i2c&lt;/a&gt;. Often if two modules are connected behind the panel, one is an expansion module that adds additional connections or capabilities to the other.&lt;/p&gt;'><sup>37</sup></a>
Patch cables are primarily mono but sometimes stereo if a jack supports it.
These two patch cable types look identical, except at their connectors, as shown in Figure <a href="basic-modeling-concepts.html#fig:ts-trs">4.5</a>.
Stereo patch cables are TRS (tip-ring-sleeve), whereas mono patch cables are TS (tip-sleeve).</p>

<div class="figure">
<span style="display:block;" id="fig:ts-trs"></span>
<img src="images/ts-trs.jpg" alt="Stereo (upper) and mono (lower) patch cable connectors. Both have a tip and sleeve conductor, but stereo has an additional “ring” conductor to carry a second audio channel. Image public domain." width="100%"><p class="caption">
Figure 4.5: Stereo (upper) and mono (lower) patch cable connectors. Both have a tip and sleeve conductor, but stereo has an additional “ring” conductor to carry a second audio channel. Image <a href="https://commons.wikimedia.org/wiki/File:Photo-audiojacks.jpg">public domain</a>.
</p>
</div>
</div>
<div id="signals-are-interpreted-by-modules" class="section level2" number="4.3">
<h2>
<span class="header-section-number">4.3</span> Signals are interpreted by modules<a class="anchor" aria-label="anchor" href="#signals-are-interpreted-by-modules"><i class="fas fa-link"></i></a>
</h2>
<p>One of the most powerful aspects of modular synthesis is the variety of ways that modules can be connected together.
You can often send an unusual signal to a module, and that module will still respond.
However, its also possible to send a signal to a module and for nothing to happen.
The reason for this is that modules expect a certain type of signal at each input jack, and they will interpret signals they receive according to these expectations.</p>
<p>Take gates and triggers for example.
What makes a gate a gate and a trigger a trigger?
As we said above, gates have a variable duration, but that doesn’t prevent them from being used as triggers.
Modules that receive triggers listen for the leading edge of the rectangular pulse and then stop listening.
So a module expecting a trigger will be satisfied with a gate.
If the trigger is wide enough, it might also satisfy a module expecting a gate, because that module will listen for the trailing edge of the rectangular pulse to mark the end of a gate.
We probably wouldn’t want to do this in practice because we wouldn’t be able to change the length of the musical event, but you get the idea.</p>
<p>Modular signals are also somewhat interchangeable between audio signals and control signals.
Recall that human hearing is sensitive to frequencies between 20 Hz and 20 kHz.
So if we generated a train of rectangular gate pulses in this frequency range, we are generating the same shape as audio, and we can listen to our gates as a pulse wave.
Similarly, if we generate envelopes repeatedly at an audible frequency, our envelope becomes a waveshape, and we will hear a sound based on the shape of the envelope.
However, in other cases you might hear nothing!
This is because jacks that expect audio are <a href="https://en.wikipedia.org/wiki/Capacitive_coupling#Use_in_analog_circuits">AC-coupled</a>, which removes low frequency signals, noise, and offset bias that would interfere with sound quality.</p>
<p>One signal that deserves special mention is volt per octave (V/Oct).
This signal used to tell oscillators and other generators what pitch they should play.
The V/Oct standard was <a href="https://en.wikipedia.org/wiki/CV/gate#CV">pioneered by Moog</a> and is widely used in the Eurorack format.
Note that V/Oct goes straight from the voltage representation to pitch perception, with no mention of frequency.
This makes it easy for musicians: since each volt represents an octave, it is easy to play a note one octave above the current note by adding one volt to the current signal.
Similarly, one semitone above a note corresponds to 1/12 of a volt above the current voltage.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Western music divides the octave into 12 pitches called semitones based on a system called &lt;a href="https://en.wikipedia.org/wiki/Equal_temperament#Twelve-tone_equal_temperament"&gt;twelve-tone equal temperment&lt;/a&gt;.&lt;/p&gt;'><sup>38</sup></a>
While just about any signal could be used,<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Typically unipolar signals are used for V/Oct.&lt;/p&gt;"><sup>39</sup></a> continuous control signals are commonly used in order to access a range of pitches.</p>
<p>When signals don’t work as expected, it can be hard to figure out why.
One of the best tools you can use to diagnose problems is an oscilloscope.
Oscilloscopes display voltages over time, so they are great for displaying modular signals, including rapidly changing signals like audio.
A bench oscilloscope is shown in Figure <a href="basic-modeling-concepts.html#fig:oscilloscope">4.6</a>, but several modular manufacturers have created compact oscilloscopes that fit into a case, and you can also use a software oscilloscope if you have a DC coupled audio interface.
Another great tool for diagnosing problems is the manual for the module in question.
If the signal in the oscilloscope looks correct, then it’s likely you have a misconception about the type of signal the module is expecting.</p>

<div class="figure">
<span style="display:block;" id="fig:oscilloscope"></span>
<img src="images/1024px-My_friend_oscilloscope.jpg" alt="A bench oscilloscope showing a sine wave and offset square wave simultaneously. Image © Wild Pancake/CC-BY-4.0." width="100%"><p class="caption">
Figure 4.6: A bench oscilloscope showing a sine wave and offset square wave simultaneously. Image <a href="https://commons.wikimedia.org/wiki/File:My_friend_oscilloscope.jpg">© Wild Pancake/CC-BY-4.0</a>.
</p>
</div>
</div>
<div id="pulling-it-all-together" class="section level2" number="4.4">
<h2>
<span class="header-section-number">4.4</span> Pulling it all together<a class="anchor" aria-label="anchor" href="#pulling-it-all-together"><i class="fas fa-link"></i></a>
</h2>
<p>Let’s put these ideas into practice with some basic patches!
As stated, we’ll be using a web-ported version of VCVRack, which you can launch using buttons below.
The port currently has some quirks:</p>
<ul>
<li>It will not run on Safari because Safari does not support fixed-width SIMD.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://webassembly.org/roadmap/" class="uri"&gt;https://webassembly.org/roadmap/&lt;/a&gt;&lt;/p&gt;'><sup>40</sup></a> That means it will not run on iOS at all per app store rules.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://developer.apple.com/app-store/review/guidelines/#2.5.6" class="uri"&gt;https://developer.apple.com/app-store/review/guidelines/#2.5.6&lt;/a&gt;&lt;/p&gt;'><sup>41</sup></a> <a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/WebKit" class="uri"&gt;https://en.wikipedia.org/wiki/WebKit&lt;/a&gt;&lt;/p&gt;'><sup>42</sup></a>
</li>
<li>It has a large download because it bundles modules. For best performance, you should use Firefox, which currently caches the files better than Chrome.<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;&lt;a href="https://github.com/DISTRHO/Cardinal/issues/287#issuecomment-1245929349" class="uri"&gt;https://github.com/DISTRHO/Cardinal/issues/287#issuecomment-1245929349&lt;/a&gt;&lt;/p&gt;'><sup>43</sup></a>
</li>
</ul>
<p>In the following sections, we’ll start with a patch and incrementally expand it to add more functionality.</p>
<div id="drone" class="section level3" number="4.4.1">
<h3>
<span class="header-section-number">4.4.1</span> Drone<a class="anchor" aria-label="anchor" href="#drone"><i class="fas fa-link"></i></a>
</h3>
<p>The most basic patch that makes a sound is a <em>drone</em> patch.
It’s the most basic because it only has one real module, which is a <em>generator</em> to make the sound.
We’ll use an oscillator for the generator and one extra module, an audio interface module, to connect the oscillator output to our speakers.
For this patch only, I’m going to demonstrate using the video in Figure <a href="basic-modeling-concepts.html#fig:drone-demo">4.7</a> to explain the user interface of the modular software.</p>

<div class="figure">
<span style="display:block;" id="fig:drone-demo"></span>
<iframe src="https://www.youtube.com/embed/EfIWUOgHmhM?start=2" width="672" height="400px" data-external="1">
</iframe>
<p class="caption">
Figure 4.7: <a href="https://www.youtube.com/watch?v=EfIWUOgHmhM">Youtube video</a> describing the VCVRack/Cardinal interface and builing a drone patch.
</p>
</div>
<p>After you watch the demonstration, try to make the patch yourself using the button in Figure <a href="basic-modeling-concepts.html#fig:drone-vco-out">4.8</a>.
When you press the button, you’ll see an interface that also includes <code>Instructions</code>, <code>Solution</code>, and <code>Close</code> buttons.
These are self-explanatory, but in particular the <code>Close</code> button will return you to the book.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="setdrone_vco_outIframe('https://cardinal.olney.ai')" class="btn btn-primary" data-toggle="modal" data-target="#drone_vco_out">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="drone_vco_out" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="drone_vco_outLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="drone_vco_outLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Use the video demonstration as a guide (open video in separate tab as needed)&lt;/li&gt;
&lt;li&gt;For each wave output&lt;ul&gt;
&lt;li&gt;Connect just it to the audio inputs&lt;/li&gt;
&lt;li&gt;Sweep the frequency knob&lt;/li&gt;
&lt;li&gt;Sweep the volume knob&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="See the video demonstration in the book (open video in separate tab as needed">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Use the video demonstration as a guide (open video in separate tab as needed)&lt;/li&gt;
&lt;li&gt;For each wave output&lt;ul&gt;
&lt;li&gt;Connect just it to the audio inputs&lt;/li&gt;
&lt;li&gt;Sweep the frequency knob&lt;/li&gt;
&lt;li&gt;Sweep the volume knob&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="See the video demonstration in the book (open video in separate tab as needed">Solution</button>
        <button type="button" onclick="setdrone_vco_outIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="drone_vco_out-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function setdrone_vco_outIframe(url){
  var drone_vco_outIframe = document.getElementById("drone_vco_out-iframe");
  drone_vco_outIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:drone-vco-out"></span>
<p class="caption">
Figure 4.8: <a href="https://cardinal.olney.ai">Virtual modular</a> for making a drone patch.
</p>
</div>
</div>
<div id="using-an-oscilloscope" class="section level3" number="4.4.2">
<h3>
<span class="header-section-number">4.4.2</span> Using an oscilloscope<a class="anchor" aria-label="anchor" href="#using-an-oscilloscope"><i class="fas fa-link"></i></a>
</h3>
<p>You can use an oscilloscope to see the wave produced by the oscillator.
The most important controls on an oscilloscope are the time and the gain.
You can think of the time as slowing the wave down enough so it just about stays still.
If you don’t do this, most waves will just look like a blur because their frequencies are so high.
Gain, on the other hand, is useful if the wave has a low amplitude.
If you’re expecting a wave and only see a line, you should try increasing the gain.
You can think of gain as zooming in on the wave.
Finally, oscilloscopes (scopes) don’t change the signal at all.
So whatever you patch into them is copied exactly on their output jacks.
This makes it easy to put a scope in between other modules without changing the resulting sound.
Try adding a scope between the modules in the previous patch using the button in Figure <a href="basic-modeling-concepts.html#fig:drone-vco-scope-out">4.9</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="setdrone_vco_scope_outIframe('https://cardinal.olney.ai?patchurl=drone_vco-out.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#drone_vco_scope_out">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="drone_vco_scope_out" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="drone_vco_scope_outLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="drone_vco_scope_outLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add “Scope” between VCO and Host Audio&lt;/li&gt;
&lt;li&gt;Connect VCO wave out to Scope In&lt;/li&gt;
&lt;li&gt;Connect Scope out to Host Audio&lt;/li&gt;
&lt;li&gt;For each waveshape try&lt;ul&gt;
&lt;li&gt;Adjusting time&lt;/li&gt;
&lt;li&gt;Adjusting frequency&lt;/li&gt;
&lt;li&gt;Adjusting gain&lt;/li&gt;
&lt;li&gt;Changing the waveshape&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img class='rack-image' src='images/solo-modules/scope-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/drone-scope_vco-scope-out.png' style='height: 300px; width: auto'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add “Scope” between VCO and Host Audio&lt;/li&gt;
&lt;li&gt;Connect VCO wave out to Scope In&lt;/li&gt;
&lt;li&gt;Connect Scope out to Host Audio&lt;/li&gt;
&lt;li&gt;For each waveshape try&lt;ul&gt;
&lt;li&gt;Adjusting time&lt;/li&gt;
&lt;li&gt;Adjusting frequency&lt;/li&gt;
&lt;li&gt;Adjusting gain&lt;/li&gt;
&lt;li&gt;Changing the waveshape&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;img class='rack-image' src='images/solo-modules/scope-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/drone-scope_vco-scope-out.png' style='height: 300px; width: auto'&gt;">Solution</button>
        <button type="button" onclick="setdrone_vco_scope_outIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="drone_vco_scope_out-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function setdrone_vco_scope_outIframe(url){
  var drone_vco_scope_outIframe = document.getElementById("drone_vco_scope_out-iframe");
  drone_vco_scope_outIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:drone-vco-scope-out"></span>
<p class="caption">
Figure 4.9: <a href="https://cardinal.olney.ai">Virtual modular</a> for making a drone patch with a scope.
</p>
</div>
</div>
<div id="controlling-pitch" class="section level3" number="4.4.3">
<h3>
<span class="header-section-number">4.4.3</span> Controlling pitch<a class="anchor" aria-label="anchor" href="#controlling-pitch"><i class="fas fa-link"></i></a>
</h3>
<p>You’re probably realized why the drone patch has its name - it just produces a constant pitch at a constant volume.
To make things more interesting, let’s control the pitch that goes into the oscillator.
You’ll need a <em>controller</em> for this.
Let’s use the “Twelve-Key” (12 key), which has a miniture keyboard built into the module.
The output of the 12 key that we are interested in is the control voltage (CV) that outputs V/Oct.
If you connect that output to the V/Oct input of the VCO, the VCO will change its frequency every time a key is pressed.
This is analogous to precisely and instantly moving the frequency knob on the VCO.
Try adding the 12 key to the left of the VCO in the previous patch using the button in Figure <a href="basic-modeling-concepts.html#fig:drone-12key-vco-scope-out">4.10</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="setdrone_12key_vco_scope_outIframe('https://cardinal.olney.ai?patchurl=drone-scope_vco-scope-out.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#drone_12key_vco_scope_out">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="drone_12key_vco_scope_out" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="drone_12key_vco_scope_outLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="drone_12key_vco_scope_outLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add “Twelve-key” to the left of the VCO&lt;/li&gt;
&lt;li&gt;Connect 12 key CV output to VCO V/OCT input&lt;/li&gt;
&lt;li&gt;Observe what happens when you click different keys on 12 key&lt;ul&gt;
&lt;li&gt;In terms of sound&lt;/li&gt;
&lt;li&gt;In terms of wave on scope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Change OCTAVE on 12 key and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;If you don&amp;#39;t hear sound, check if your frequency is below 20 kHz; your computer speakers may not produce sound below 100 kHz&lt;/em&gt;&lt;/p&gt;
&lt;img class='rack-image' src='images/solo-modules/12key-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/key-drone_12key-vco-scope-out.png' style='height: 300px; width: auto'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add “Twelve-key” to the left of the VCO&lt;/li&gt;
&lt;li&gt;Connect 12 key CV output to VCO V/OCT input&lt;/li&gt;
&lt;li&gt;Observe what happens when you click different keys on 12 key&lt;ul&gt;
&lt;li&gt;In terms of sound&lt;/li&gt;
&lt;li&gt;In terms of wave on scope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Change OCTAVE on 12 key and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;If you don&amp;#39;t hear sound, check if your frequency is below 20 kHz; your computer speakers may not produce sound below 100 kHz&lt;/em&gt;&lt;/p&gt;
&lt;img class='rack-image' src='images/solo-modules/12key-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/key-drone_12key-vco-scope-out.png' style='height: 300px; width: auto'&gt;">Solution</button>
        <button type="button" onclick="setdrone_12key_vco_scope_outIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="drone_12key_vco_scope_out-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function setdrone_12key_vco_scope_outIframe(url){
  var drone_12key_vco_scope_outIframe = document.getElementById("drone_12key_vco_scope_out-iframe");
  drone_12key_vco_scope_outIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:drone-12key-vco-scope-out"></span>
<p class="caption">
Figure 4.10: <a href="https://cardinal.olney.ai">Virtual modular</a> for making a single voice patch with a scope and keyboard control of pitch.
</p>
</div>
</div>
<div id="controlling-note-duration-onoff-volume" class="section level3" number="4.4.4">
<h3>
<span class="header-section-number">4.4.4</span> Controlling note duration (on/off volume)<a class="anchor" aria-label="anchor" href="#controlling-note-duration-onoff-volume"><i class="fas fa-link"></i></a>
</h3>
<p>In the last patch, pressing a key changed the pitch, but the note continued until the next key was pressed.
You can control note duration independently of pitch using a voltage controlled amplifier (VCA).
Just like you can control the frequency of the VCO by sending it control voltage, you can change the amplitude of a VCA by sending it control voltage.
The control voltage we’ll use is the gate output of the 12 key.
That way, each time a key is pressed, two control voltages will be sent out at the same time: a V/Oct to control pitch and a gate to control note duration.
The VCA will “open” and let the full amplitude of the wave through when the gate voltage is high, and the VCA will “close” and let nothing through when the gate voltage is zero.
Try adding a VCA between the VCO and Scope modules using the button in Figure <a href="basic-modeling-concepts.html#fig:drone-12key-vco-vca-scope-out">4.11</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="setdrone_12key_vco_vca_scope_outIframe('https://cardinal.olney.ai?patchurl=key-drone_12key-vco-scope-out.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#drone_12key_vco_vca_scope_out">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="drone_12key_vco_vca_scope_out" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="drone_12key_vco_vca_scope_outLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="drone_12key_vco_vca_scope_outLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add VCA between VCO and Scope modules&lt;/li&gt;
&lt;li&gt;Connect VCO wave to VCA In&lt;/li&gt;
&lt;li&gt;Connect 12 key GATE output to VCA CV IN&lt;/li&gt;
&lt;li&gt;Connect VCA OUT to Scope IN&lt;/li&gt;
&lt;li&gt;What happens when you click different keys on 12 key&lt;ul&gt;
&lt;li&gt;In terms of sound&lt;/li&gt;
&lt;li&gt;In terms of wave on scope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Try holding down key instead of short pressing it and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;img class='rack-image' src='images/solo-modules/vca-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/key-note_12key-vco-vca-scope-out.png' style='height: 300px; width: auto'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add VCA between VCO and Scope modules&lt;/li&gt;
&lt;li&gt;Connect VCO wave to VCA In&lt;/li&gt;
&lt;li&gt;Connect 12 key GATE output to VCA CV IN&lt;/li&gt;
&lt;li&gt;Connect VCA OUT to Scope IN&lt;/li&gt;
&lt;li&gt;What happens when you click different keys on 12 key&lt;ul&gt;
&lt;li&gt;In terms of sound&lt;/li&gt;
&lt;li&gt;In terms of wave on scope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Try holding down key instead of short pressing it and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;img class='rack-image' src='images/solo-modules/vca-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/key-note_12key-vco-vca-scope-out.png' style='height: 300px; width: auto'&gt;">Solution</button>
        <button type="button" onclick="setdrone_12key_vco_vca_scope_outIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="drone_12key_vco_vca_scope_out-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function setdrone_12key_vco_vca_scope_outIframe(url){
  var drone_12key_vco_vca_scope_outIframe = document.getElementById("drone_12key_vco_vca_scope_out-iframe");
  drone_12key_vco_vca_scope_outIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:drone-12key-vco-vca-scope-out"></span>
<p class="caption">
Figure 4.11: <a href="https://cardinal.olney.ai">Virtual modular</a> for making a single voice patch with a scope and keyboard control of pitch and note duration.
</p>
</div>
</div>
<div id="controlling-note-dynamics-volume-during-note" class="section level3" number="4.4.5">
<h3>
<span class="header-section-number">4.4.5</span> Controlling note dynamics (volume during note)<a class="anchor" aria-label="anchor" href="#controlling-note-dynamics-volume-during-note"><i class="fas fa-link"></i></a>
</h3>
<p>We can make the sound even more interesting by making the volume of the note change while the gate is active.
To do this, we’ll use an envelope generator, specifically the ADSR module.
The ASDR module will detect the leading edge of the gate and proceed through its (A)ttack and (D)ecay stages.
As long as the gate is held, the ASDR module will hold at the (S)ustain level.
Finally, when the trailing edge of the gate is detected (meaning the key has been released), the ASDR module will proceed through the (R)elease stage.
Remember that an envelope generator doesn’t do anything by itself; if we want to control the volume of the signal with the ADSR, we must connect the ADSR to the VCA.
Try adding an ADSR module between the VCO and VCA modules using the button in Figure <a href="basic-modeling-concepts.html#fig:drone-12key-vco-env-vca-scope-out">4.12</a>.</p>

<!-- MODAL HTML BLOCK -->
<!-- Button trigger modal -->
<!-- <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center"> -->
<div class="d-flex flex-column justify-content-center align-items-center">
  <button type="button" style="margin-top: 20px;margin-bottom: 5px" onclick="setdrone_12key_vco_env_vca_scope_outIframe('https://cardinal.olney.ai?patchurl=key-note_12key-vco-vca-scope-out.vcv')" class="btn btn-primary" data-toggle="modal" data-target="#drone_12key_vco_env_vca_scope_out">
    Launch Virtual Modular
  </button>
</div>


<!-- Modal -->
<div class="modal fade" id="drone_12key_vco_env_vca_scope_out" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="drone_12key_vco_env_vca_scope_outLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header justify-content-between">
        <!-- <h5 class="modal-title" id="drone_12key_vco_env_vca_scope_outLabel">Modal title</h5> -->
        <!-- To dismiss popovers when other elements are clicked, add this back in and uncomment jquery at end of template
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add ADSR module between VCO and VCA modules&lt;/li&gt;
&lt;li&gt;Connect 12 key GATE output to ADSR GATE input&lt;/li&gt;
&lt;li&gt;Connect ADSR OUT to VCA IN&lt;/li&gt;
&lt;li&gt;What happens when you click different keys on 12 key&lt;ul&gt;
&lt;li&gt;In terms of sound&lt;/li&gt;
&lt;li&gt;In terms of wave on scope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Change the attack, decay, sustain, release knobs and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;img class='rack-image' src='images/solo-modules/adsr-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="popover" data-trigger="focus" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/key-envelope_12key-vco-env-vca-scope-out.png' style='height: 300px; width: 718px'&gt;">Solution</button> -->
        <!-- using a different data-toggle than 'popover' because bookdown seems to have customized popover for footnotes, etc, with a different close click behaviour -->
        <button type="button" class="btn btn-secondary" title="Instructions" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;ul&gt;
&lt;li&gt;Add ADSR module between VCO and VCA modules&lt;/li&gt;
&lt;li&gt;Connect 12 key GATE output to ADSR GATE input&lt;/li&gt;
&lt;li&gt;Connect ADSR OUT to VCA IN&lt;/li&gt;
&lt;li&gt;What happens when you click different keys on 12 key&lt;ul&gt;
&lt;li&gt;In terms of sound&lt;/li&gt;
&lt;li&gt;In terms of wave on scope&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Change the attack, decay, sustain, release knobs and repeat&lt;/li&gt;
&lt;/ul&gt;
&lt;img class='rack-image' src='images/solo-modules/adsr-solo.png' style='height: 300px; width: auto'&gt;
">Instructions</button>
        <button type="button" class="btn btn-secondary" title="Solution" data-toggle="modal-popover" data-placement="bottom" data-custom-class="modal-popover" data-html="true" data-content="&lt;img class='rack-image' src='images/patch-solutions/key-envelope_12key-vco-env-vca-scope-out.png' style='height: 300px; width: 718px'&gt;">Solution</button>
        <button type="button" onclick="setdrone_12key_vco_env_vca_scope_outIframe('')" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- For some reason the button type below will not play along with justify-content-between  -->
        <!-- <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <iframe id="drone_12key_vco_env_vca_scope_out-iframe" src="" height="100%" width="100%"></iframe>
      </div>      
      <!-- <div class="modal-footer justify-content-between">
        <button type="button" class="btn btn-secondary mr-auto" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Understood</button>
      </div> -->
    </div>
  </div>
</div>

  

<script>
// Enable popovers for instructions, etc 
// var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-toggle="popover"]'))
// var popoverList = popoverTriggerList.map(function (popoverTriggerEl) {
//   return new bootstrap.Popover(popoverTriggerEl)
// });
$(function () {
  $('[data-toggle="modal-popover"]').popover()
})

// Set/reset iframe to prevent it loading when page loads and persisting when modal closed 
function setdrone_12key_vco_env_vca_scope_outIframe(url){
  var drone_12key_vco_env_vca_scope_outIframe = document.getElementById("drone_12key_vco_env_vca_scope_out-iframe");
  drone_12key_vco_env_vca_scope_outIframe.src = url;
};

// This dismisses popovers when anything else is clicked, but users probably want to refer to instructions/solution while clicking on things, so commenting it out for now
// $('.popover-dismiss').popover({
//   trigger: 'focus'
// })
</script><!-- CAPTION BLOCK --><div class="figure" style="margin-top: 0px;padding-top: 0px;">
<span style="display:block;" id="fig:drone-12key-vco-env-vca-scope-out"></span>
<p class="caption">
Figure 4.12: <a href="https://cardinal.olney.ai">Virtual modular</a> for making a single voice patch with a scope and keyboard control of pitch and note duration, and an envelope to control dynamics during the note.
</p>
</div>
</div>
</div>
<div id="moving-forward-1" class="section level2" number="4.5">
<h2>
<span class="header-section-number">4.5</span> Moving forward<a class="anchor" aria-label="anchor" href="#moving-forward-1"><i class="fas fa-link"></i></a>
</h2>
<p>The basic modeling concepts and patches in this chapter provide a high level overview of what’s to come.
The following chapters will go into the three module categories (controllers, generators, and modifiers) in more detail and similarly provide concrete examples along the way.
From there we will continue to spiral outward into increasingly complex modules and applications.</p>

</div>
</div>

  <div class="chapter-nav">
<div class="prev"><a href="harmonic-and-inharmonic-sounds.html"><span class="header-section-number">3</span> Harmonic and Inharmonic Sounds</a></div>
<div class="next"><a href="controllers.html"><span class="header-section-number">5</span> Controllers</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#basic-modeling-concepts"><span class="header-section-number">4</span> Basic Modeling Concepts</a></li>
<li><a class="nav-link" href="#modules-are-the-model-elements"><span class="header-section-number">4.1</span> Modules are the model elements</a></li>
<li><a class="nav-link" href="#signals-are-how-the-model-elements-interact"><span class="header-section-number">4.2</span> Signals are how the model elements interact</a></li>
<li><a class="nav-link" href="#signals-are-interpreted-by-modules"><span class="header-section-number">4.3</span> Signals are interpreted by modules</a></li>
<li>
<a class="nav-link" href="#pulling-it-all-together"><span class="header-section-number">4.4</span> Pulling it all together</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#drone"><span class="header-section-number">4.4.1</span> Drone</a></li>
<li><a class="nav-link" href="#using-an-oscilloscope"><span class="header-section-number">4.4.2</span> Using an oscilloscope</a></li>
<li><a class="nav-link" href="#controlling-pitch"><span class="header-section-number">4.4.3</span> Controlling pitch</a></li>
<li><a class="nav-link" href="#controlling-note-duration-onoff-volume"><span class="header-section-number">4.4.4</span> Controlling note duration (on/off volume)</a></li>
<li><a class="nav-link" href="#controlling-note-dynamics-volume-during-note"><span class="header-section-number">4.4.5</span> Controlling note dynamics (volume during note)</a></li>
</ul>
</li>
<li><a class="nav-link" href="#moving-forward-1"><span class="header-section-number">4.5</span> Moving forward</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/aolney/ct-modular-book/blob/master/04-fun-mod-basic-concepts.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/aolney/ct-modular-book/edit/master/04-fun-mod-basic-concepts.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Computational Thinking through Modular Sounds Synthesis</strong>" was written by Andrew M. Olney. It was last built on 2022-10-16.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
